(()=>{var e={};e.id=797,e.ids=[797],e.modules={524:(e,t,s)=>{Promise.resolve().then(s.bind(s,19092))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},6852:(e,t,s)=>{"use strict";s.d(t,{Fs:()=>i,Jy:()=>o,QT:()=>l,bW:()=>a,d$:()=>n,o7:()=>d,oo:()=>m,p7:()=>c});var r=s(96755);async function a(){try{let e=await fetch(`${r.M}/public/all_categories`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching categories:",e)}}async function i(){try{let e=await fetch(`${r.M}/public/all_brands`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching brands:",e)}}async function n(){try{let e=await fetch(`${r.M}/public/all_products`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching products:",e)}}async function o(e){try{let t=await fetch(`${r.M}/public/products_by_category/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function l(e){try{let t=await fetch(`${r.M}/public/products_by_brand/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function c(e){try{let t=await fetch(`${r.M}/public/category/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function d(e){try{let t=await fetch(`${r.M}/public/brand_single/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function m(e){try{let t=await fetch(`${r.M}/public/product_single/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching product:",e)}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},13676:(e,t,s)=>{Promise.resolve().then(s.bind(s,99468))},13707:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(publico)\\\\products\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(publico)\\products\\loading.js","default")},19092:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(60687),a=s(69495);s(6852);var i=s(99270),n=s(80462),o=s(62688);let l=(0,o.A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),c=(0,o.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var d=s(28561);let m=(0,o.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),p=(0,o.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);s(85814);var h=s(43210);function u(){let[e,t]=(0,h.useState)([]),[s,o]=(0,h.useState)([]),[u,x]=(0,h.useState)([]),[b,j]=(0,h.useState)([]),[g,f]=(0,h.useState)([]),[v,N]=(0,h.useState)(!0),[y,w]=(0,h.useState)("all"),[k,E]=(0,h.useState)("all"),[S,C]=(0,h.useState)(""),[_,P]=(0,h.useState)("default"),[A,$]=(0,h.useState)("grid"),[z,q]=(0,h.useState)(1),[G,U]=(0,h.useState)(9),[T,M]=(0,h.useState)(1),[R,F]=(0,h.useState)(!1),H=t=>{let s=e.find(e=>e._id===t);return s?s.catName:"Unknown"},D=e=>{let t=g.find(t=>t._id===e);return t?t.brandName:"Unknown"},I=e=>{q(e),document.getElementById("products-section").scrollIntoView({behavior:"smooth"})};return v?(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:(0,r.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,r.jsxs)("div",{className:"container-fluid py-5",children:[(e=>{if(e)return window.location.href="/cart"})(R),(0,r.jsx)("div",{className:"row mb-4",children:(0,r.jsxs)("div",{className:"col-12",children:[(0,r.jsx)("h1",{className:"display-5 fw-bold text-center mb-4",children:"Our Products"}),(0,r.jsx)("p",{className:"text-muted text-center mb-5",children:"Discover our collection of high-quality products"})]})}),(0,r.jsxs)("div",{className:"row mb-4",children:[(0,r.jsx)("div",{className:"col-lg-4 col-md-6 mb-3",children:(0,r.jsxs)("div",{className:"input-group",children:[(0,r.jsx)("input",{type:"text",className:"form-control border-primary",placeholder:"Search products...",value:S,onChange:e=>C(e.target.value)}),(0,r.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,r.jsx)(i.A,{size:18})})]})}),(0,r.jsx)("div",{className:"col-lg-8 col-md-6 mb-3 d-flex gap-2 justify-content-md-end",children:(0,r.jsxs)("select",{className:"form-select w-auto",value:_,onChange:e=>P(e.target.value),children:[(0,r.jsx)("option",{value:"default",children:"Sort by"}),(0,r.jsx)("option",{value:"price-low-high",children:"Price: Low to High"}),(0,r.jsx)("option",{value:"price-high-low",children:"Price: High to Low"}),(0,r.jsx)("option",{value:"name-asc",children:"Name: A-Z"}),(0,r.jsx)("option",{value:"name-desc",children:"Name: Z-A"})]})})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-lg-3 mb-4",children:(0,r.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,r.jsxs)("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center",children:[(0,r.jsx)("h5",{className:"mb-0",children:"Filters"}),(0,r.jsx)(n.A,{size:18})]}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h6",{className:"fw-bold mb-3",children:"Categories"}),(0,r.jsxs)("div",{className:"form-check mb-2",children:[(0,r.jsx)("input",{className:"form-check-input",type:"radio",name:"category",id:"all-categories",checked:"all"===y,onChange:()=>w("all")}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"all-categories",children:"All Categories"})]}),e.map(e=>(0,r.jsxs)("div",{className:"form-check mb-2",children:[(0,r.jsx)("input",{className:"form-check-input",type:"radio",name:"category",id:`category-${e._id}`,checked:y===e._id,onChange:()=>w(e._id)}),(0,r.jsx)("label",{className:"form-check-label text-capitalize",htmlFor:`category-${e._id}`,children:e.catName})]},e._id))]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h6",{className:"fw-bold mb-3",children:"Brands"}),(0,r.jsxs)("div",{className:"form-check mb-2",children:[(0,r.jsx)("input",{className:"form-check-input",type:"radio",name:"brand",id:"all-brands",checked:"all"===k,onChange:()=>E("all")}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"all-brands",children:"All Brands"})]}),g.map(e=>(0,r.jsxs)("div",{className:"form-check mb-2",children:[(0,r.jsx)("input",{className:"form-check-input",type:"radio",name:"brand",id:`brand-${e._id}`,checked:k===e._id,onChange:()=>E(e._id)}),(0,r.jsx)("label",{className:"form-check-label text-capitalize",htmlFor:`brand-${e._id}`,children:e.brandName})]},e._id))]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h6",{className:"fw-bold mb-3",children:"Availability"}),(0,r.jsxs)("div",{className:"form-check mb-2",children:[(0,r.jsx)("input",{className:"form-check-input",type:"checkbox",id:"in-stock"}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"in-stock",children:"In Stock Only"})]})]}),(0,r.jsx)("button",{className:"btn btn-outline-primary w-100",onClick:()=>{w("all"),E("all"),C(""),P("default"),q(1)},children:"Reset Filters"})]})]})}),(0,r.jsx)("div",{className:"col-lg-9",id:"products-section",children:0===u.length?(0,r.jsx)("div",{className:"alert alert-info text-center",children:"No products found matching your criteria. Try changing your filters."}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,r.jsxs)("p",{className:"mb-0 text-muted",children:["Showing ",u.length," of ",s.length," products"]}),(0,r.jsxs)("div",{className:"d-flex align-items-center",children:[(0,r.jsx)("label",{htmlFor:"productsPerPage",className:"me-2 text-nowrap",children:"Show per page:"}),(0,r.jsxs)("select",{id:"productsPerPage",className:"form-select form-select-sm",style:{width:"70px"},value:G,onChange:e=>{U(Number(e.target.value)),q(1)},children:[(0,r.jsx)("option",{value:"6",children:"6"}),(0,r.jsx)("option",{value:"9",children:"9"}),(0,r.jsx)("option",{value:"12",children:"12"}),(0,r.jsx)("option",{value:"24",children:"24"})]})]})]}),"grid"===A?(0,r.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:b.map(e=>(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("div",{className:"card h-100 border-0 shadow-sm product-card",children:[(0,r.jsxs)("div",{className:"position-relative",children:[(0,r.jsx)("img",{src:e.photo,className:"card-img-top",alt:e.name,style:{height:"200px",objectFit:"cover"}}),e.newArrival&&(0,r.jsx)("span",{className:"position-absolute top-0 start-0 badge bg-success m-2",children:"New"}),!e.inStock&&(0,r.jsx)("div",{className:"position-absolute top-0 end-0 bottom-0 start-0 d-flex justify-content-center align-items-center bg-dark bg-opacity-50",children:(0,r.jsx)("span",{className:"badge bg-danger fs-6 px-3 py-2",children:"Out of Stock"})}),(0,r.jsxs)("div",{className:"product-actions position-absolute top-0 end-0 m-2 d-flex flex-column gap-2",children:[(0,r.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,r.jsx)(l,{size:16})}),(0,r.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,r.jsx)(c,{size:16})})]})]}),(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,r.jsx)("span",{className:"badge bg-light text-dark text-capitalize",children:D(e.brand)}),(0,r.jsx)("span",{className:"badge bg-secondary text-capitalize",children:H(e.category)})]}),(0,r.jsx)("h5",{className:"card-title",children:e.name}),(0,r.jsx)("p",{className:"card-text small text-muted mb-1",children:e.description.length>60?`${e.description.substring(0,60)}...`:e.description}),(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,r.jsxs)("span",{className:"fw-bold text-primary",children:["MWK",e.price]}),(0,r.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>{(0,a.B5)(e,()=>{F(!0)})},children:[(0,r.jsx)(d.A,{size:16,className:"me-1"})," Add to Cart"]})]})]})]})},e._id))}):(0,r.jsx)("div",{className:"list-group",children:b.map(e=>(0,r.jsx)("div",{className:"list-group-item list-group-item-action border-0 shadow-sm mb-3",children:(0,r.jsxs)("div",{className:"row g-0",children:[(0,r.jsxs)("div",{className:"col-md-3 position-relative",children:[(0,r.jsx)("img",{src:e.photo,className:"img-fluid rounded-start h-100 w-100",alt:e.name,style:{objectFit:"cover",maxHeight:"180px"}}),e.newArrival&&(0,r.jsx)("span",{className:"position-absolute top-0 start-0 badge bg-success m-2",children:"New"})]}),(0,r.jsx)("div",{className:"col-md-9",children:(0,r.jsxs)("div",{className:"card-body",children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"badge bg-light text-dark text-capitalize me-2",children:D(e.brand)}),(0,r.jsx)("span",{className:"badge bg-secondary text-capitalize",children:H(e.category)})]}),(0,r.jsxs)("div",{className:"d-flex gap-2",children:[(0,r.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,r.jsx)(l,{size:16})}),(0,r.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,r.jsx)(c,{size:16})})]})]}),(0,r.jsx)("h5",{className:"card-title",children:e.name}),(0,r.jsx)("p",{className:"card-text",children:e.description}),(0,r.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"fw-bold text-primary fs-5",children:["$",e.price.toFixed(2)]}),(0,r.jsx)("p",{className:"text-muted mb-0 small",children:e.inStock?`In Stock (${e.stockQuantity} available)`:"Out of Stock"})]}),(0,r.jsxs)("button",{className:"btn btn-primary",disabled:!e.inStock,children:[(0,r.jsx)(d.A,{size:16,className:"me-1"})," Add to Cart"]})]})]})})]})},e._id))}),T>1&&(0,r.jsxs)("nav",{className:"mt-4","aria-label":"Product pagination",children:[(0,r.jsx)("div",{className:"d-flex justify-content-center",children:(0,r.jsxs)("ul",{className:"pagination",children:[(0,r.jsx)("li",{className:`page-item ${1===z?"disabled":""}`,children:(0,r.jsx)("button",{className:"page-link",onClick:()=>{z>1&&(q(z-1),document.getElementById("products-section").scrollIntoView({behavior:"smooth"}))},"aria-label":"Previous",children:(0,r.jsx)(m,{size:16})})}),(()=>{let e=[];e.push(1);let t=Math.max(2,z-1),s=Math.min(T-1,z+1);t>2&&e.push("...");for(let r=t;r<=s;r++)e.push(r);return s<T-1&&e.push("..."),T>1&&e.push(T),e})().map((e,t)=>"..."===e?(0,r.jsx)("li",{className:"page-item disabled",children:(0,r.jsx)("span",{className:"page-link",children:"..."})},`ellipsis-${t}`):(0,r.jsx)("li",{className:`page-item ${z===e?"active":""}`,children:(0,r.jsx)("button",{className:"page-link",onClick:()=>I(e),children:e})},`page-${e}`)),(0,r.jsx)("li",{className:`page-item ${z===T?"disabled":""}`,children:(0,r.jsx)("button",{className:"page-link",onClick:()=>{z<T&&(q(z+1),document.getElementById("products-section").scrollIntoView({behavior:"smooth"}))},"aria-label":"Next",children:(0,r.jsx)(p,{size:16})})})]})}),(0,r.jsxs)("div",{className:"text-center mt-2 text-muted small",children:["Page ",z," of ",T]})]})]})})]})]})}},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29268:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=s(65239),a=s(48088),i=s(88170),n=s.n(i),o=s(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c={children:["",{children:["(publico)",{children:["products",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,99468)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(publico)\\products\\page.js"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,13707)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(publico)\\products\\loading.js"]}]},{"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,32648)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\layout.js"],loading:[()=>Promise.resolve().then(s.bind(s,81488)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(publico)\\products\\page.js"],m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(publico)/products/page",pathname:"/products",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},45509:(e,t,s)=>{Promise.resolve().then(s.bind(s,81137))},46055:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},51589:(e,t,s)=>{Promise.resolve().then(s.bind(s,13707))},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},80462:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(62688).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},81137:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(60687);function a(){return(0,r.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,r.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,r.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}s(43210)},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},94735:e=>{"use strict";e.exports=require("events")},99468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(publico)\\\\products\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(publico)\\products\\page.js","default")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,108,658,218],()=>s(29268));module.exports=r})();