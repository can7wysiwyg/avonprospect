(()=>{var e={};e.id=996,e.ids=[996],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4966:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\categories\\\\manage\\\\[products]\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\manage\\[products]\\loading.js","default")},6320:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\loading.js","default")},6852:(e,t,r)=>{"use strict";r.d(t,{Fs:()=>n,Jy:()=>o,QT:()=>l,bW:()=>a,d$:()=>i,o7:()=>d,oo:()=>p,p7:()=>c});var s=r(96755);async function a(){try{let e=await fetch(`${s.M}/public/all_categories`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching categories:",e)}}async function n(){try{let e=await fetch(`${s.M}/public/all_brands`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching brands:",e)}}async function i(){try{let e=await fetch(`${s.M}/public/all_products`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching products:",e)}}async function o(e){try{let t=await fetch(`${s.M}/public/products_by_category/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function l(e){try{let t=await fetch(`${s.M}/public/products_by_brand/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function c(e){try{let t=await fetch(`${s.M}/public/category/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function d(e){try{let t=await fetch(`${s.M}/public/brand_single/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function p(e){try{let t=await fetch(`${s.M}/public/product_single/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching product:",e)}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},16189:(e,t,r)=>{"use strict";var s=r(65773);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},18074:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(60687);function a(){return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}r(43210)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20085:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(60687);r(6852);var a=r(16189),n=r(43210),i=r.n(n);function o(){let{products:e}=(0,a.useParams)(),[t,r]=i().useState({}),[n,o]=i().useState([]),[l,c]=i().useState([]),[d,p]=i().useState([]),[m,u]=i().useState(""),[h,g]=i().useState(""),[f,x]=i().useState("name"),[v,b]=i().useState(1),[j,y]=i().useState({min:0,max:1e4}),[N,w]=i().useState(!1),E=6*v,C=d.slice(E-6,E),S=Math.ceil(d.length/6),P=e=>b(e),k=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"MWK"}).format(e/100),U=(e,t)=>{let r=parseInt(e.target.value)||0;y(e=>({...e,[t]:r}))};return(0,s.jsxs)("div",{className:"container py-5",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h1",{className:"display-5 fw-bold",children:t.catName||"Products"}),(0,s.jsxs)("p",{className:"text-muted",children:[d.length," products found"]}),(0,s.jsx)("hr",{className:"my-4"})]}),(0,s.jsx)("div",{className:"card shadow-sm mb-5",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"row g-3",children:[(0,s.jsxs)("div",{className:"col-md-6 col-lg-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Search"}),(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text",children:(0,s.jsx)("i",{className:"bi bi-search"})}),(0,s.jsx)("input",{type:"text",className:"form-control",value:m,onChange:e=>u(e.target.value),placeholder:"Search products..."})]})]}),(0,s.jsxs)("div",{className:"col-md-6 col-lg-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Brand"}),(0,s.jsxs)("select",{className:"form-select",value:h,onChange:e=>g(e.target.value),children:[(0,s.jsx)("option",{value:"",children:"All Brands"}),l.map(e=>(0,s.jsx)("option",{value:e._id,children:e.brandName},e._id))]})]}),(0,s.jsxs)("div",{className:"col-md-6 col-lg-3",children:[(0,s.jsx)("label",{className:"form-label",children:"Sort By"}),(0,s.jsxs)("select",{className:"form-select",value:f,onChange:e=>x(e.target.value),children:[(0,s.jsx)("option",{value:"name",children:"Name"}),(0,s.jsx)("option",{value:"price-asc",children:"Price: Low to High"}),(0,s.jsx)("option",{value:"price-desc",children:"Price: High to Low"}),(0,s.jsx)("option",{value:"newest",children:"Newest First"})]})]}),(0,s.jsxs)("div",{className:"col-md-6 col-lg-3",children:[(0,s.jsx)("label",{className:"form-label d-block",children:"Availability"}),(0,s.jsxs)("div",{className:"form-check",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"inStockOnly",checked:N,onChange:e=>w(e.target.checked)}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"inStockOnly",children:"In Stock Only"})]})]})]}),(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)("label",{className:"form-label",children:["Price Range: ",k(j.min)," - ",k(j.max)]}),(0,s.jsxs)("div",{className:"row g-2",children:[(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text",children:"Min "}),(0,s.jsx)("input",{type:"number",className:"form-control",min:"0",max:j.max,value:j.min,onChange:e=>U(e,"min")})]})}),(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("span",{className:"input-group-text",children:"Max "}),(0,s.jsx)("input",{type:"number",className:"form-control",min:j.min,value:j.max,onChange:e=>U(e,"max")})]})})]})]})]})}),C.length>0?(0,s.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:C.map(e=>(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"card h-100 shadow-sm",children:[(0,s.jsx)("div",{style:{height:"200px",overflow:"hidden"},children:(0,s.jsx)("img",{src:e.photo,alt:e.name,className:"card-img-top img-fluid h-100 w-100 object-fit-cover",style:{objectPosition:"center"}})}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsx)("h5",{className:"card-title",children:e.name}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,s.jsx)("span",{className:"fs-5 fw-bold",children:k(e.price)}),(0,s.jsx)("span",{className:`badge ${e.inStock?"bg-success":"bg-danger"}`,children:e.inStock?"In Stock":"Out of Stock"})]}),(0,s.jsx)("p",{className:"card-text text-muted small",style:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.description})]}),(0,s.jsx)("div",{className:"card-footer bg-transparent border-top-0"})]})},e._id))}):(0,s.jsx)("div",{className:"text-center py-5",children:(0,s.jsxs)("div",{className:"alert alert-info",children:[(0,s.jsx)("h4",{children:"No products found"}),(0,s.jsx)("p",{className:"mb-0",children:"Try adjusting your filters or search term"})]})}),S>1&&(0,s.jsx)("nav",{className:"mt-5",children:(0,s.jsxs)("ul",{className:"pagination justify-content-center",children:[(0,s.jsx)("li",{className:`page-item ${1===v?"disabled":""}`,children:(0,s.jsx)("button",{className:"page-link",onClick:()=>b(e=>Math.max(e-1,1)),"aria-label":"Previous",children:(0,s.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),[...Array(S)].map((e,t)=>(0,s.jsx)("li",{className:`page-item ${v===t+1?"active":""}`,children:(0,s.jsx)("button",{className:"page-link",onClick:()=>P(t+1),children:t+1})},t)),(0,s.jsx)("li",{className:`page-item ${v===S?"disabled":""}`,children:(0,s.jsx)("button",{className:"page-link",onClick:()=>b(e=>Math.min(e+1,S)),"aria-label":"Next",children:(0,s.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})]})}r(85814)},20257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\categories\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\loading.js","default")},21820:e=>{"use strict";e.exports=require("os")},22948:(e,t,r)=>{Promise.resolve().then(r.bind(r,23983))},23983:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\categories\\\\manage\\\\[products]\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\manage\\[products]\\page.js","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29485:(e,t,r)=>{Promise.resolve().then(r.bind(r,66088))},29800:(e,t,r)=>{Promise.resolve().then(r.bind(r,18074))},33873:e=>{"use strict";e.exports=require("path")},41448:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(65239),a=r(48088),n=r(88170),i=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["(pages)",{children:["admin",{children:["categories",{children:["manage",{children:["[products]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,23983)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\manage\\[products]\\page.js"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,4966)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\manage\\[products]\\loading.js"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,54057)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\manage\\loading.js"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,20257)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\loading.js"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,6320)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\loading.js"]}]},{"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32648)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\layout.js"],loading:[()=>Promise.resolve().then(r.bind(r,81488)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\manage\\[products]\\page.js"],p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/(pages)/admin/categories/manage/[products]/page",pathname:"/admin/categories/manage/[products]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},48833:(e,t,r)=>{Promise.resolve().then(r.bind(r,54057))},52063:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(60687);function a(){return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}r(43210)},52804:(e,t,r)=>{Promise.resolve().then(r.bind(r,20085))},54057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\categories\\\\manage\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\categories\\manage\\loading.js","default")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},65869:(e,t,r)=>{Promise.resolve().then(r.bind(r,4966))},66088:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(60687);function a(){return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}r(43210)},69378:(e,t,r)=>{Promise.resolve().then(r.bind(r,20257))},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},80263:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(60687);function a(){return(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,s.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}r(43210)},81630:e=>{"use strict";e.exports=require("http")},82600:(e,t,r)=>{Promise.resolve().then(r.bind(r,6320))},83997:e=>{"use strict";e.exports=require("tty")},85281:(e,t,r)=>{Promise.resolve().then(r.bind(r,80263))},87530:(e,t,r)=>{Promise.resolve().then(r.bind(r,52063))},94735:e=>{"use strict";e.exports=require("events")}};var t=require("../../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,108,658,218],()=>r(41448));module.exports=s})();