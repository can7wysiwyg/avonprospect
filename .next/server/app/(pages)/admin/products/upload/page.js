(()=>{var e={};e.id=857,e.ids=[857],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5250:(e,r,t)=>{Promise.resolve().then(t.bind(t,18592))},6320:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\loading.js","default")},6852:(e,r,t)=>{"use strict";t.d(r,{Fs:()=>s,Jy:()=>i,QT:()=>c,bW:()=>o,d$:()=>a,o7:()=>l,oo:()=>p,p7:()=>d});var n=t(96755);async function o(){try{let e=await fetch(`${n.M}/public/all_categories`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching categories:",e)}}async function s(){try{let e=await fetch(`${n.M}/public/all_brands`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching brands:",e)}}async function a(){try{let e=await fetch(`${n.M}/public/all_products`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching products:",e)}}async function i(e){try{let r=await fetch(`${n.M}/public/products_by_category/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Server Error ");return await r.json()}catch(e){console.log("Error fetching products:",e)}}async function c(e){try{let r=await fetch(`${n.M}/public/products_by_brand/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Server Error ");return await r.json()}catch(e){console.log("Error fetching products:",e)}}async function d(e){try{let r=await fetch(`${n.M}/public/category/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Server Error ");return await r.json()}catch(e){console.log("Error fetching products:",e)}}async function l(e){try{let r=await fetch(`${n.M}/public/brand_single/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Server Error ");return await r.json()}catch(e){console.log("Error fetching products:",e)}}async function p(e){try{let r=await fetch(`${n.M}/public/product_single/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw Error("Server Error ");return await r.json()}catch(e){console.log("Error fetching product:",e)}}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},12695:(e,r,t)=>{Promise.resolve().then(t.bind(t,63039))},18074:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var n=t(60687);function o(){return(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,n.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}t(43210)},18592:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var n=t(60687);function o(){return(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,n.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}t(43210)},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29800:(e,r,t)=>{Promise.resolve().then(t.bind(t,18074))},33873:e=>{"use strict";e.exports=require("path")},36286:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>l,routeModule:()=>u,tree:()=>d});var n=t(65239),o=t(48088),s=t(88170),a=t.n(s),i=t(30893),c={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);t.d(r,c);let d={children:["",{children:["(pages)",{children:["admin",{children:["products",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,38864)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\products\\upload\\page.js"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,63039)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\products\\upload\\loading.js"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,59361)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\products\\loading.js"]}]},{loading:[()=>Promise.resolve().then(t.bind(t,6320)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\loading.js"]}]},{"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,32648)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\layout.js"],loading:[()=>Promise.resolve().then(t.bind(t,81488)),"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\loading.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\products\\upload\\page.js"],p={require:t,loadChunk:()=>Promise.resolve()},u=new n.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(pages)/admin/products/upload/page",pathname:"/admin/products/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},36794:(e,r,t)=>{Promise.resolve().then(t.bind(t,59361))},38864:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\products\\\\upload\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\products\\upload\\page.js","default")},40719:(e,r,t)=>{Promise.resolve().then(t.bind(t,59517))},46055:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var n=t(31658);let o=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},49429:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var n=t(69662),o=t.n(n),s=t(43210),a=t(98466),i=t(60687);let c=s.forwardRef(({bsPrefix:e,fluid:r=!1,as:t="div",className:n,...s},c)=>{let d=(0,a.oU)(e,"container"),l="string"==typeof r?`-${r}`:"-fluid";return(0,i.jsx)(t,{ref:c,...s,className:o()(n,r?`${d}${l}`:d)})});c.displayName="Container";let d=c},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},58274:(e,r,t)=>{Promise.resolve().then(t.bind(t,38864))},59361:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\products\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\products\\loading.js","default")},59517:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var n=t(60687);function o(){return(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center vh-100 bg-light",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"spinner-border text-primary",role:"status",style:{width:"3rem",height:"3rem"},children:(0,n.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),(0,n.jsx)("p",{className:"mt-3 fs-5",children:"Loading, please wait..."})]})})}t(43210)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63039:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\USER\\\\Documents\\\\GitHub\\\\primo\\\\front\\\\app\\\\(pages)\\\\admin\\\\products\\\\upload\\\\loading.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\USER\\Documents\\GitHub\\primo\\front\\app\\(pages)\\admin\\products\\upload\\loading.js","default")},63554:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>g});var n=t(60687),o=t(99611),s=t(96755);t(6852);var a=t(51060),i=t(43210),c=t.n(i),d=t(49429),l=t(9852),p=t(94146),u=t(91820),m=t(47518),h=t(92388),f=t(55231);function g(){let[e,r]=c().useState({name:"",category:"",price:0,brand:"",description:"",stockQuantity:""}),[t,i]=c().useState(null),[g,b]=c().useState([]),[x,y]=c().useState([]),[j,v]=c().useState(!1),[C,E]=c().useState(null),[w,P]=c().useState(null),A=(0,o.b)(),N=t=>{r({...e,[t.target.name]:t.target.value})},S=async r=>{if(r.preventDefault(),v(!0),P(null),E(null),!e.name){P("Product name cannot be blank"),v(!1);return}if(!e.price){P("Product price cannot be blank"),v(!1);return}if(!e.category){P("Product category cannot be blank"),v(!1);return}if(!e.brand){P("Product brand cannot be blank"),v(!1);return}if(!e.description){P("Product  description cannot be blank"),v(!1);return}if(!e.stockQuantity){P("Stock Quantity cannot be blank"),v(!1);return}if(!t){P("Please select a photo"),v(!1);return}let n=new FormData;n.append("name",e.name),n.append("category",e.category),n.append("brand",e.brand),n.append("description",e.description),n.append("stockQuantity",e.stockQuantity),n.append("price",e.price),n.append("photo",t);try{let e=await a.A.post(`${s.M}/admin/add_product`,n,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}});E(e.data.msg),setTimeout(()=>{window.location.href="/admin/products"},2e3)}catch(e){console.error("Error uploading  info:",e),P(e.response?.data?.message||"An error occurred while uploading your information")}finally{v(!1)}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(d.A,{style:{fontFamily:"sans-serif",marginTop:"2rem"},children:[(0,n.jsx)("h4",{style:{textAlign:"center",marginBottom:"1rem",color:"#3a7bd5",fontWeight:"bold"},children:"Add New Product"}),C&&(0,n.jsx)(l.A,{variant:"success",children:C}),w&&(0,n.jsx)(l.A,{variant:"danger",children:w}),(0,n.jsx)(p.A,{className:"justify-content-md-center",children:(0,n.jsx)(u.A,{xs:12,md:6,children:(0,n.jsxs)(m.A,{onSubmit:S,encType:"multipart/form-data",children:[(0,n.jsxs)(m.A.Group,{className:"mb-3",controlId:"formBasicProductName",children:[(0,n.jsx)(m.A.Label,{children:"Product Name"}),(0,n.jsx)(m.A.Control,{type:"text",name:"name",value:e.name,onChange:N,placeholder:"your product  name",required:!0})]}),(0,n.jsxs)(m.A.Group,{className:"mb-3",controlId:"formBasicBrand",children:[(0,n.jsx)(m.A.Label,{children:"Product Brand"}),(0,n.jsxs)(m.A.Select,{name:"brand",value:e.brand,onChange:N,required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select Brand"}),x?.map(e=>n.jsx("option",{value:e._id,children:e?.brandName},e._id))]})]}),(0,n.jsxs)(m.A.Group,{className:"mb-3",controlId:"formBasicBrand",children:[(0,n.jsx)(m.A.Label,{children:"Product Description"}),(0,n.jsx)(m.A.Control,{as:"textarea",name:"description",value:e.description,onChange:N,rows:4})]}),(0,n.jsxs)(m.A.Group,{className:"mb-4",controlId:"formBasicSupplierLicence",children:[(0,n.jsx)(m.A.Label,{children:"Product Photo"}),(0,n.jsx)(m.A.Control,{type:"file",onChange:e=>{i(e.target.files[0])},required:!0,accept:".png, .jpg, .jpeg, .webp",className:"form-control"}),(0,n.jsx)(m.A.Text,{className:"text-muted",children:"Upload a clear image of your product"})]}),(0,n.jsxs)(m.A.Group,{className:"mb-3",controlId:"formBasicProductName",children:[(0,n.jsx)(m.A.Label,{children:"Product Price"}),(0,n.jsx)(m.A.Control,{type:"number",name:"price",value:e.price,onChange:N,placeholder:"your product price",required:!0})]}),(0,n.jsxs)(m.A.Group,{className:"mb-3",controlId:"formBasicProductName",children:[(0,n.jsx)(m.A.Label,{children:"Product Quantity"}),(0,n.jsx)(m.A.Control,{type:"number",name:"stockQuantity",value:e.stockQuantity,onChange:N,placeholder:"your product stock quantity",required:!0})]}),(0,n.jsxs)(m.A.Group,{className:"mb-3",controlId:"formBasicCategory",children:[(0,n.jsx)(m.A.Label,{children:"Product Category"}),(0,n.jsxs)(m.A.Select,{name:"category",value:e.category,onChange:N,required:!0,children:[(0,n.jsx)("option",{value:"",children:"Select Category"}),g?.map(e=>n.jsx("option",{value:e._id,children:e.catName},e._id))]})]}),(0,n.jsx)("div",{className:"d-grid gap-2",children:(0,n.jsx)(h.A,{variant:"primary",type:"submit",disabled:j,className:"py-2",children:j?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(f.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true"}),(0,n.jsx)("span",{className:"ms-2",children:"submiting..."})]}):"Add Product"})})]})})})]})})}},74075:e=>{"use strict";e.exports=require("zlib")},76426:(e,r,t)=>{Promise.resolve().then(t.bind(t,63554))},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82600:(e,r,t)=>{Promise.resolve().then(t.bind(t,6320))},83997:e=>{"use strict";e.exports=require("tty")},94146:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var n=t(69662),o=t.n(n),s=t(43210),a=t(98466),i=t(60687);let c=s.forwardRef(({bsPrefix:e,className:r,as:t="div",...n},s)=>{let c=(0,a.oU)(e,"row"),d=(0,a.gy)(),l=(0,a.Jm)(),p=`${c}-cols`,u=[];return d.forEach(e=>{let r;let t=n[e];delete n[e],null!=t&&"object"==typeof t?{cols:r}=t:r=t;let o=e!==l?`-${e}`:"";null!=r&&u.push(`${p}${o}-${r}`)}),(0,i.jsx)(t,{ref:s,...n,className:o()(r,c,...u)})});c.displayName="Row";let d=c},94735:e=>{"use strict";e.exports=require("events")}};var r=require("../../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[447,108,658,625,560,218],()=>t(36286));module.exports=n})();