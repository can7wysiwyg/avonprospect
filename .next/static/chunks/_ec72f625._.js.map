{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Documents/GitHub/primo/front/helpers/core/CoreFuncs.js"],"sourcesContent":["import { ApiUrl } from \"../ApiUrl\"\r\n\r\n\r\nexport async function getCategories() {\r\n    try {\r\n        const response = await fetch(`${ApiUrl}/public/all_categories`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n\r\n        if(!response.ok) {\r\n            throw new Error('Server Error ')\r\n        }\r\n        \r\n        return await response.json()\r\n    } catch (error) {\r\n        console.log('Error fetching categories:', error)\r\n    }\r\n}\r\n\r\n\r\nexport async function getBrands() {\r\n    try {\r\n\r\n        const response = await  fetch(`${ApiUrl}/public/all_brands`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n\r\n        if(!response.ok) {\r\n            throw new Error('Server Error ')\r\n        }\r\n        \r\n\r\n        return await response.json()\r\n\r\n    } catch (error) {\r\n        console.log('Error fetching brands:', error)\r\n        \r\n    }\r\n}\r\n\r\n\r\nexport async function getProducts() {\r\n\r\n    try {\r\n\r\n        const response = await fetch(`${ApiUrl}/public/all_products`, {\r\n            method: 'GET',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n\r\n            }\r\n        })\r\n\r\n\r\n        if(!response.ok) {\r\n            throw new Error('Server Error ')\r\n        }\r\n        \r\n\r\n        return await response.json()\r\n\r\n        \r\n    } catch (error) {\r\n        console.log('Error fetching products:', error)\r\n    }\r\n\r\n}"],"names":[],"mappings":";;;;;AAAA;;AAGO,eAAe;IAClB,IAAI;QACA,MAAM,WAAW,MAAM,MAAM,GAAG,oHAAA,CAAA,SAAM,CAAC,sBAAsB,CAAC,EAAE;YAC5D,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;QACJ;QAEA,IAAG,CAAC,SAAS,EAAE,EAAE;YACb,MAAM,IAAI,MAAM;QACpB;QAEA,OAAO,MAAM,SAAS,IAAI;IAC9B,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC,8BAA8B;IAC9C;AACJ;AAGO,eAAe;IAClB,IAAI;QAEA,MAAM,WAAW,MAAO,MAAM,GAAG,oHAAA,CAAA,SAAM,CAAC,kBAAkB,CAAC,EAAE;YACzD,QAAQ;YACR,SAAS;gBACL,gBAAgB;YACpB;QACJ;QAEA,IAAG,CAAC,SAAS,EAAE,EAAE;YACb,MAAM,IAAI,MAAM;QACpB;QAGA,OAAO,MAAM,SAAS,IAAI;IAE9B,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC,0BAA0B;IAE1C;AACJ;AAGO,eAAe;IAElB,IAAI;QAEA,MAAM,WAAW,MAAM,MAAM,GAAG,oHAAA,CAAA,SAAM,CAAC,oBAAoB,CAAC,EAAE;YAC1D,QAAQ;YACR,SAAS;gBACL,gBAAgB;YAEpB;QACJ;QAGA,IAAG,CAAC,SAAS,EAAE,EAAE;YACb,MAAM,IAAI,MAAM;QACpB;QAGA,OAAO,MAAM,SAAS,IAAI;IAG9B,EAAE,OAAO,OAAO;QACZ,QAAQ,GAAG,CAAC,4BAA4B;IAC5C;AAEJ","debugId":null}},
    {"offset": {"line": 71, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Documents/GitHub/primo/front/app/%28pages%29/admin/products/upload/page.js"],"sourcesContent":["\"use client\";\r\nimport { getSupertoken } from \"@/helpers/AccessToken\";\r\nimport { ApiUrl } from \"@/helpers/ApiUrl\";\r\nimport { getBrands, getCategories } from \"@/helpers/core/CoreFuncs\";\r\nimport axios from \"axios\";\r\nimport React from \"react\";\r\nimport {\r\n  Container,\r\n  Form,\r\n  Row,\r\n  Col,\r\n  Button,\r\n  Spinner,\r\n  Alert,\r\n} from \"react-bootstrap\";\r\n\r\nexport default function UploadProduct() {\r\n  const [data, setData] = React.useState({\r\n    name: \"\",\r\n    category: \"\",\r\n    price: 0,\r\n    brand: \"\",\r\n    description: \"\"\r\n  });\r\n  const [photo, setPhoto] = React.useState(null);\r\n  const [categories, setCategories] = React.useState([]);\r\n  const [brands, setBrands] = React.useState([])\r\n  const [loading, setLoading] = React.useState(false);\r\n  const [result, setResult] = React.useState(null);\r\n  const [error, setError] = React.useState(null);\r\n\r\n  const usertoken = getSupertoken();\r\n\r\n  React.useEffect(() => {\r\n    const fetchData = async () => {\r\n      const cats = await getCategories();\r\n      const blands = await getBrands()\r\n      if (cats && blands) {\r\n        setCategories(cats.categories);\r\n        setBrands(blands.brands)\r\n      } else {\r\n        console.log(\"Error fetching categories\");\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleInputChange = (e) => {\r\n    setData({\r\n      ...data,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleImageUpload = (event) => {\r\n    const file = event.target.files[0];\r\n    setPhoto(file);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    setResult(null);\r\n\r\n    if (!data.name) {\r\n      setError(\"Product name cannot be blank\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!data.price) {\r\n      setError(\"Product price cannot be blank\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!data.category) {\r\n      setError(\"Product category cannot be blank\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (!data.brand) {\r\n        setError(\"Product brand cannot be blank\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (!data.description) {\r\n        setError(\"Product  description cannot be blank\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n\r\n    if (!photo) {\r\n      setError(\"Please select a photo\");\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append(\"name\", data.name);\r\n    formData.append(\"category\", data.category);\r\n    formData.append(\"brand\", data.brand);\r\n    formData.append(\"description\", data.description);\r\n    formData.append(\"price\", data.price);\r\n    formData.append(\"photo\", photo);\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `${ApiUrl}/admin/add_product`,\r\n        formData,\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${usertoken}`,\r\n            \"Content-Type\": \"multipart/form-data\",\r\n          },\r\n        }\r\n      );\r\n\r\n      setResult(response.data.msg);\r\n\r\n      setTimeout(() => {\r\n        window.location.href = \"/admin/products\";\r\n      }, 2000);\r\n    } catch (err) {\r\n      console.error(\"Error uploading supplier info:\", err);\r\n      setError(\r\n        err.response?.data?.message ||\r\n          \"An error occurred while uploading your information\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container style={{ fontFamily: \"sans-serif\", marginTop: \"2rem\" }}>\r\n        <h4\r\n          style={{\r\n            textAlign: \"center\",\r\n            marginBottom: \"1rem\",\r\n            color: \"#3a7bd5\",\r\n            fontWeight: \"bold\",\r\n          }}\r\n        >\r\n          Add New Product\r\n        </h4>\r\n\r\n        {result && <Alert variant=\"success\">{result}</Alert>}\r\n        {error && <Alert variant=\"danger\">{error}</Alert>}\r\n\r\n        <Row className=\"justify-content-md-center\">\r\n          <Col xs={12} md={6}>\r\n            <Form onSubmit={handleSubmit} encType=\"multipart/form-data\">\r\n              <Form.Group className=\"mb-3\" controlId=\"formBasicProductName\">\r\n                <Form.Label>Product Name</Form.Label>\r\n                <Form.Control\r\n                  type=\"text\"\r\n                  name=\"name\"\r\n                  value={data.name}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"your product  name\"\r\n                  required\r\n                />\r\n              </Form.Group>\r\n\r\n\r\n              <Form.Group className=\"mb-3\" controlId=\"formBasicBrand\">\r\n                <Form.Label>Product Brand</Form.Label>\r\n                <Form.Select\r\n                  name=\"brand\"\r\n                  value={data.brand}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select Brand</option>\r\n                  {brands?.map((item) => (\r\n                    <option key={item._id} value={item._id}>\r\n                      {item?.brandName}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n\r\n\r\n\r\n    <Form.Group className=\"mb-3\" controlId=\"formBasicBrand\">\r\n  <Form.Label>Product Description</Form.Label>\r\n  <Form.Control\r\n    as=\"textarea\"\r\n    name=\"description\"\r\n    value={data.description}\r\n    onChange={handleInputChange}\r\n    rows={4} \r\n  />\r\n</Form.Group>\r\n\r\n\r\n              \r\n\r\n\r\n              <Form.Group className=\"mb-4\" controlId=\"formBasicSupplierLicence\">\r\n                <Form.Label>Product Photo</Form.Label>\r\n                <Form.Control\r\n                  type=\"file\"\r\n                  onChange={handleImageUpload}\r\n                  required\r\n                  accept=\".png, .jpg, .jpeg, .webp\"\r\n                  className=\"form-control\"\r\n                />\r\n                <Form.Text className=\"text-muted\">\r\n                  Upload a clear image of your product\r\n                </Form.Text>\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" controlId=\"formBasicProductName\">\r\n                <Form.Label>Product Price</Form.Label>\r\n                <Form.Control\r\n                  type=\"number\"\r\n                  name=\"price\"\r\n                  value={data.price}\r\n                  onChange={handleInputChange}\r\n                  placeholder=\"your product price\"\r\n                  required\r\n                />\r\n              </Form.Group>\r\n\r\n              <Form.Group className=\"mb-3\" controlId=\"formBasicCategory\">\r\n                <Form.Label>Product Category</Form.Label>\r\n                <Form.Select\r\n                  name=\"category\"\r\n                  value={data.category}\r\n                  onChange={handleInputChange}\r\n                  required\r\n                >\r\n                  <option value=\"\">Select Category</option>\r\n                  {categories?.map((cat) => (\r\n                    <option key={cat._id} value={cat._id}>\r\n                      {cat.catName}\r\n                    </option>\r\n                  ))}\r\n                </Form.Select>\r\n              </Form.Group>\r\n\r\n              <div className=\"d-grid gap-2\">\r\n                <Button\r\n                  variant=\"primary\"\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  className=\"py-2\"\r\n                >\r\n                  {loading ? (\r\n                    <>\r\n                      <Spinner\r\n                        as=\"span\"\r\n                        animation=\"border\"\r\n                        size=\"sm\"\r\n                        role=\"status\"\r\n                        aria-hidden=\"true\"\r\n                      />\r\n                      <span className=\"ms-2\">submiting...</span>\r\n                    </>\r\n                  ) : (\r\n                    \"Add Product\"\r\n                  )}\r\n                </Button>\r\n              </div>\r\n            </Form>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}