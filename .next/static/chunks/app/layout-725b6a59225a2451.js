(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{668:(e,t,s)=>{"use strict";s.d(t,{M:()=>a});let a="http://localhost:5200"},3416:(e,t,s)=>{"use strict";s.d(t,{NV:()=>l,Ou:()=>c,oi:()=>n,s_:()=>o,w1:()=>a,wi:()=>i,wz:()=>r});let a="AUTHENTICATION_ERROR",r="LOGIN_USER",l="GET_USER",n="REGISTER_USER",i="AUTH_USER_ERROR",o="FORGOT_PASSWORD",c="RESET_PASSWORD"},4553:(e,t,s)=>{"use strict";s.d(t,{b:()=>a});let a=()=>localStorage.getItem("usertoken")},5672:(e,t,s)=>{Promise.resolve().then(s.bind(s,6307)),Promise.resolve().then(s.t.bind(s,9324,23)),Promise.resolve().then(s.bind(s,9584)),Promise.resolve().then(s.t.bind(s,5685,23)),Promise.resolve().then(s.t.bind(s,9243,23)),Promise.resolve().then(s.bind(s,7855))},6307:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});var a=s(5155);s(2115),s(7347);let r=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("footer",{id:"footer",className:"my-5"})})},7855:(e,t,s)=>{"use strict";s.d(t,{ReduxProvider:()=>o});var a=s(5155),r=s(4540),l=s(4836),n=s(3416);let i=(0,l.U1)({reducer:{userRdcr:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case n.wz:return{...e,authenticated:!0};case n.NV:return{...e,user:t.payload};case n.oi:case n.s_:case n.Ou:return{...e,mssg:t.payload};default:return e}}},middleware:e=>e({serializableCheck:!1})});function o(e){let{children:t}=e;return(0,a.jsx)(r.Kq,{store:i,children:t})}s(2115)},8631:(e,t,s)=>{"use strict";s.d(t,{B5:()=>a,Ed:()=>i,SM:()=>n,Xl:()=>l,Yr:()=>r});let a=(e,t)=>{let s=[];localStorage.getItem("cart")&&(s=JSON.parse(localStorage.getItem("cart"))),s.push({...e,count:1}),s=Array.from(new Set(s.map(e=>e._id))).map(e=>s.find(t=>t._id===e)),localStorage.setItem("cart",JSON.stringify(s)),t()},r=()=>localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0,l=()=>localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],n=e=>{let t=[];localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t=t.filter(t=>t._id!==e),localStorage.setItem("cart",JSON.stringify(t))},i=e=>{localStorage.removeItem("cart")}},9324:()=>{},9584:(e,t,s)=>{"use strict";s.d(t,{default:()=>S});var a=s(5155),r=s(2115),l=s(4416),n=s(4783),i=s(6474),o=s(7924),c=s(7809),d=s(4540),m=s(6874),u=s.n(m),h=s(4553),p=s(9952),g=s(5525),x=s(1007);function f(){let e=(0,d.wA)(),t=(0,d.d4)(e=>e.userRdcr.user),[s,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{let t=(0,h.b)();l(t),t&&e((0,p.qN)())},[e]);let n=(0,r.useMemo)(()=>{switch(null==t?void 0:t.role){case"admin":return(0,a.jsxs)(u(),{className:"nav-link position-relative p-2",href:"/admin",children:[(0,a.jsx)("div",{className:"rounded-circle bg-dark p-2 d-flex align-items-center justify-content-center",style:{width:"48px",height:"48px"},children:(0,a.jsx)(g.A,{size:26,className:"text-white"})}),(0,a.jsx)("span",{className:"position-absolute bottom-0 start-50 translate-middle-x badge bg-dark text-white small fw-bold",children:"Admin"})]});case"shopper":return(0,a.jsxs)(u(),{className:"nav-link position-relative p-2",href:"/shopper",children:[(0,a.jsx)("div",{className:"rounded-circle bg-dark p-2 d-flex align-items-center justify-content-center",style:{width:"48px",height:"48px"},children:(0,a.jsx)(x.A,{size:26,className:"text-white"})}),(0,a.jsx)("span",{className:"position-absolute bottom-0 start-50 translate-middle-x badge bg-dark text-white small fw-bold",children:"Shopper"})]});default:return null}},[t]);return(0,a.jsx)(a.Fragment,{children:s&&n})}function w(){return(0,a.jsx)(f,{})}let b=()=>{localStorage.removeItem("usertoken"),window.location.href="/"};var j=s(306),N=s(4835);function v(){let[e,t]=(0,r.useState)(void 0);return((0,r.useEffect)(()=>{t((0,h.b)())},[]),void 0===e)?null:(0,a.jsx)(a.Fragment,{children:e?(0,a.jsxs)(u(),{href:"#",className:"nav-link rounded-pill d-flex align-items-center gap-2 px-3 py-2 fw-semibold btn-outline-danger",style:{cursor:"pointer"},onClick:b,children:[(0,a.jsx)(N.A,{size:20}),"  Logout"]}):(0,a.jsxs)(u(),{className:"nav-link rounded-pill d-flex align-items-center gap-2 px-3 py-2 fw-semibold btn-outline-danger",href:"/login",style:{cursor:"pointer"},children:[(0,a.jsx)(j.A,{size:20}),"Login"]})})}var y=s(8631);function S(){let[e,t]=(0,r.useState)(!1),[s,d]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{d(!0)},[]),(0,a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-white shadow-lg sticky-top py-3",children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsxs)(u(),{className:"navbar-brand fw-bold fs-2",href:"/",children:[(0,a.jsx)("span",{className:"text-primary",children:"Avon"}),(0,a.jsx)("span",{className:"text-dark",children:"Shop"})]}),(0,a.jsx)("button",{className:"navbar-toggler border-0 p-2",type:"button",onClick:()=>{t(!e)},"aria-expanded":e?"true":"false","aria-label":"Toggle navigation",children:e?(0,a.jsx)(l.A,{size:32}):(0,a.jsx)(n.A,{size:32})}),(0,a.jsxs)("div",{className:"collapse navbar-collapse ".concat(e?"show":""),children:[(0,a.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0 gap-3",children:[(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(u(),{className:"nav-link fw-semibold fs-5 px-3",href:"/",children:"Home"})}),(0,a.jsxs)("li",{className:"nav-item dropdown",children:[(0,a.jsxs)(u(),{className:"nav-link dropdown-toggle fw-semibold fs-5 px-3",href:"#",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:["More Pages",(0,a.jsx)(i.A,{size:18,className:"ms-1"})]}),(0,a.jsxs)("ul",{className:"dropdown-menu border-0 shadow-lg p-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(u(),{className:"dropdown-item fs-6 py-2",href:"/",children:"Shirts"})}),(0,a.jsx)("li",{children:(0,a.jsx)(u(),{className:"dropdown-item fs-6 py-2",href:"/",children:"Pants"})}),(0,a.jsx)("li",{children:(0,a.jsx)(u(),{className:"dropdown-item fs-6 py-2",href:"/",children:"Outerwear"})}),(0,a.jsx)("li",{children:(0,a.jsx)("hr",{className:"dropdown-divider"})})]})]}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(u(),{className:"nav-link fw-semibold fs-5 px-3",href:"/",children:"New Arrivals"})})]}),(0,a.jsxs)("form",{className:"d-flex mx-auto my-3 my-lg-0 position-relative",style:{maxWidth:"500px"},children:[(0,a.jsx)("input",{className:"form-control me-2 ps-5 py-3 rounded-pill fs-5 shadow-sm border-0 bg-light",type:"search",placeholder:"Search products...","aria-label":"Search"}),(0,a.jsx)(o.A,{size:24,className:"position-absolute top-50 translate-middle-y ms-3 text-primary"})]}),(0,a.jsxs)("ul",{className:"navbar-nav ms-auto gap-2 d-flex align-items-center",children:[(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(u(),{className:"nav-link position-relative p-2",href:"/cart",children:(0,a.jsxs)("div",{className:"rounded-circle bg-light p-2 d-flex align-items-center justify-content-center",style:{width:"48px",height:"48px"},children:[(0,a.jsx)(c.A,{size:26,className:"text-primary"}),s&&(0,a.jsx)("span",{className:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger fs-6 px-2",children:(0,y.Yr)()})]})})}),(0,a.jsx)("li",{className:"nav-item",children:(0,a.jsx)(w,{})}),(0,a.jsx)("li",{className:"nav-item ms-2",children:(0,a.jsx)(v,{})})]})]})]})})}},9952:(e,t,s)=>{"use strict";s.d(t,{GY:()=>d,Q1:()=>m,TU:()=>i,pH:()=>o,qN:()=>c});var a=s(3464),r=s(668),l=s(4553),n=s(3416);function i(e){return async function(t){try{let s=(await a.A.post("".concat(r.M,"/user_register"),e)).data.msg;t({type:n.oi,payload:s})}catch(e){console.log("there was an issue while user logged in",e),t({type:n.w1})}}}function o(e){return async function(t){try{let s=await a.A.post("".concat(r.M,"/user_login"),e);s.data.msg?alert(s.data.msg):(localStorage.setItem("usertoken",s.data.usertoken),window.location.href="/"),t({type:n.wz})}catch(e){console.log("there was an issue while user logged in",e),t({type:n.w1})}}}function c(){return async function(e){try{let t=(0,l.b)();if(!t||null==t)return"";let s=(await a.A.get("".concat(r.M,"/user_user"),{headers:{Authorization:"Bearer ".concat(t)}})).data.user;e({type:n.NV,payload:s})}catch(t){throw console.error(t),e({type:n.wi}),t}}}function d(e){return async function(t){try{let s=(await a.A.post("".concat(r.M,"/user_forgot_password"),e)).data.msg;t({type:n.s_,payload:s})}catch(e){throw console.error(e),t({type:n.w1}),e}}}function m(e,t){return async function(s){try{let l=(await a.A.put("".concat(r.M,"/user_reset_password"),e,{headers:{Authorization:"Bearer ".concat(t)}})).data.msg;s({type:n.Ou,payload:l})}catch(e){throw console.error(e),s({type:n.w1}),e}}}}},e=>{var t=t=>e(e.s=t);e.O(0,[2533,740,6874,3464,4540,2290,8441,1684,7358],()=>t(5672)),_N_E=e.O()}]);