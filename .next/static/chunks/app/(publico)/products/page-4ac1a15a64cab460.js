(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1797],{668:(e,t,a)=>{"use strict";a.d(t,{M:()=>s});let s="http://localhost:5200"},3524:(e,t,a)=>{Promise.resolve().then(a.bind(a,9160))},6736:(e,t,a)=>{"use strict";a.d(t,{Fs:()=>r,Jy:()=>i,QT:()=>n,bW:()=>c,d$:()=>l,o7:()=>d,oo:()=>m,p7:()=>o});var s=a(668);async function c(){try{let e=await fetch("".concat(s.M,"/public/all_categories"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching categories:",e)}}async function r(){try{let e=await fetch("".concat(s.M,"/public/all_brands"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching brands:",e)}}async function l(){try{let e=await fetch("".concat(s.M,"/public/all_products"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(e){console.log("Error fetching products:",e)}}async function i(e){try{let t=await fetch("".concat(s.M,"/public/products_by_category/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function n(e){try{let t=await fetch("".concat(s.M,"/public/products_by_brand/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function o(e){try{let t=await fetch("".concat(s.M,"/public/category/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function d(e){try{let t=await fetch("".concat(s.M,"/public/brand_single/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching products:",e)}}async function m(e){try{let t=await fetch("".concat(s.M,"/public/product_single/").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Server Error ");return await t.json()}catch(e){console.log("Error fetching product:",e)}}},6932:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]])},7809:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("shopping-cart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},7924:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(9946).A)("search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},8631:(e,t,a)=>{"use strict";a.d(t,{B5:()=>s,Ed:()=>i,SM:()=>l,Xl:()=>r,Yr:()=>c});let s=(e,t)=>{let a=[];localStorage.getItem("cart")&&(a=JSON.parse(localStorage.getItem("cart"))),a.push({...e,count:1}),a=Array.from(new Set(a.map(e=>e._id))).map(e=>a.find(t=>t._id===e)),localStorage.setItem("cart",JSON.stringify(a)),t()},c=()=>localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0,r=()=>localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],l=e=>{let t=[];localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t=t.filter(t=>t._id!==e),localStorage.setItem("cart",JSON.stringify(t))},i=e=>{localStorage.removeItem("cart")}},9160:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>x});var s=a(5155),c=a(8631),r=a(6736),l=a(7924),i=a(6932),n=a(9946);let o=(0,n.A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),d=(0,n.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var m=a(7809);let h=(0,n.A)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),p=(0,n.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a(6874);var u=a(2115);function x(){let[e,t]=(0,u.useState)([]),[a,n]=(0,u.useState)([]),[x,g]=(0,u.useState)([]),[b,j]=(0,u.useState)([]),[f,N]=(0,u.useState)([]),[y,v]=(0,u.useState)(!0),[w,k]=(0,u.useState)("all"),[S,E]=(0,u.useState)("all"),[C,A]=(0,u.useState)(""),[_,z]=(0,u.useState)("default"),[I,M]=(0,u.useState)("grid"),[T,F]=(0,u.useState)(1),[O,L]=(0,u.useState)(9),[P,B]=(0,u.useState)(1),[G,J]=(0,u.useState)(!1);(0,u.useEffect)(()=>{(async()=>{try{v(!0);let e=await (0,r.d$)(),a=await (0,r.bW)(),s=await (0,r.Fs)();e&&a&&s&&(n(e.products),g(e.products),N(s.brands),t(a.categories))}catch(e){console.log("There was a problem fetching data:",e)}finally{v(!1)}})()},[]),(0,u.useEffect)(()=>{let e=[...a];"all"!==w&&(e=e.filter(e=>e.category===w)),"all"!==S&&(e=e.filter(e=>e.brand===S)),C&&(e=e.filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.description.toLowerCase().includes(C.toLowerCase()))),"price-low-high"===_?e.sort((e,t)=>e.price-t.price):"price-high-low"===_?e.sort((e,t)=>t.price-e.price):"name-asc"===_?e.sort((e,t)=>e.name.localeCompare(t.name)):"name-desc"===_&&e.sort((e,t)=>t.name.localeCompare(e.name)),g(e),F(1),B(Math.ceil(e.length/O))},[a,w,S,C,_,O]),(0,u.useEffect)(()=>{let e=T*O,t=e-O;j(x.slice(t,e)),B(Math.ceil(x.length/O))},[x,T,O]);let q=t=>{let a=e.find(e=>e._id===t);return a?a.catName:"Unknown"},H=e=>{let t=f.find(t=>t._id===e);return t?t.brandName:"Unknown"},W=e=>{F(e),document.getElementById("products-section").scrollIntoView({behavior:"smooth"})};return y?(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"50vh"},children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):(0,s.jsxs)("div",{className:"container-fluid py-5",children:[(e=>{if(e)return window.location.href="/cart"})(G),(0,s.jsx)("div",{className:"row mb-4",children:(0,s.jsxs)("div",{className:"col-12",children:[(0,s.jsx)("h1",{className:"display-5 fw-bold text-center mb-4",children:"Our Products"}),(0,s.jsx)("p",{className:"text-muted text-center mb-5",children:"Discover our collection of high-quality products"})]})}),(0,s.jsxs)("div",{className:"row mb-4",children:[(0,s.jsx)("div",{className:"col-lg-4 col-md-6 mb-3",children:(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("input",{type:"text",className:"form-control border-primary",placeholder:"Search products...",value:C,onChange:e=>A(e.target.value)}),(0,s.jsx)("button",{className:"btn btn-primary",type:"button",children:(0,s.jsx)(l.A,{size:18})})]})}),(0,s.jsx)("div",{className:"col-lg-8 col-md-6 mb-3 d-flex gap-2 justify-content-md-end",children:(0,s.jsxs)("select",{className:"form-select w-auto",value:_,onChange:e=>z(e.target.value),children:[(0,s.jsx)("option",{value:"default",children:"Sort by"}),(0,s.jsx)("option",{value:"price-low-high",children:"Price: Low to High"}),(0,s.jsx)("option",{value:"price-high-low",children:"Price: High to Low"}),(0,s.jsx)("option",{value:"name-asc",children:"Name: A-Z"}),(0,s.jsx)("option",{value:"name-desc",children:"Name: Z-A"})]})})]}),(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col-lg-3 mb-4",children:(0,s.jsxs)("div",{className:"card border-0 shadow-sm",children:[(0,s.jsxs)("div",{className:"card-header bg-primary text-white d-flex justify-content-between align-items-center",children:[(0,s.jsx)("h5",{className:"mb-0",children:"Filters"}),(0,s.jsx)(i.A,{size:18})]}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h6",{className:"fw-bold mb-3",children:"Categories"}),(0,s.jsxs)("div",{className:"form-check mb-2",children:[(0,s.jsx)("input",{className:"form-check-input",type:"radio",name:"category",id:"all-categories",checked:"all"===w,onChange:()=>k("all")}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"all-categories",children:"All Categories"})]}),e.map(e=>(0,s.jsxs)("div",{className:"form-check mb-2",children:[(0,s.jsx)("input",{className:"form-check-input",type:"radio",name:"category",id:"category-".concat(e._id),checked:w===e._id,onChange:()=>k(e._id)}),(0,s.jsx)("label",{className:"form-check-label text-capitalize",htmlFor:"category-".concat(e._id),children:e.catName})]},e._id))]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h6",{className:"fw-bold mb-3",children:"Brands"}),(0,s.jsxs)("div",{className:"form-check mb-2",children:[(0,s.jsx)("input",{className:"form-check-input",type:"radio",name:"brand",id:"all-brands",checked:"all"===S,onChange:()=>E("all")}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"all-brands",children:"All Brands"})]}),f.map(e=>(0,s.jsxs)("div",{className:"form-check mb-2",children:[(0,s.jsx)("input",{className:"form-check-input",type:"radio",name:"brand",id:"brand-".concat(e._id),checked:S===e._id,onChange:()=>E(e._id)}),(0,s.jsx)("label",{className:"form-check-label text-capitalize",htmlFor:"brand-".concat(e._id),children:e.brandName})]},e._id))]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("h6",{className:"fw-bold mb-3",children:"Availability"}),(0,s.jsxs)("div",{className:"form-check mb-2",children:[(0,s.jsx)("input",{className:"form-check-input",type:"checkbox",id:"in-stock"}),(0,s.jsx)("label",{className:"form-check-label",htmlFor:"in-stock",children:"In Stock Only"})]})]}),(0,s.jsx)("button",{className:"btn btn-outline-primary w-100",onClick:()=>{k("all"),E("all"),A(""),z("default"),F(1)},children:"Reset Filters"})]})]})}),(0,s.jsx)("div",{className:"col-lg-9",id:"products-section",children:0===x.length?(0,s.jsx)("div",{className:"alert alert-info text-center",children:"No products found matching your criteria. Try changing your filters."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,s.jsxs)("p",{className:"mb-0 text-muted",children:["Showing ",x.length," of ",a.length," products"]}),(0,s.jsxs)("div",{className:"d-flex align-items-center",children:[(0,s.jsx)("label",{htmlFor:"productsPerPage",className:"me-2 text-nowrap",children:"Show per page:"}),(0,s.jsxs)("select",{id:"productsPerPage",className:"form-select form-select-sm",style:{width:"70px"},value:O,onChange:e=>{L(Number(e.target.value)),F(1)},children:[(0,s.jsx)("option",{value:"6",children:"6"}),(0,s.jsx)("option",{value:"9",children:"9"}),(0,s.jsx)("option",{value:"12",children:"12"}),(0,s.jsx)("option",{value:"24",children:"24"})]})]})]}),"grid"===I?(0,s.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4",children:b.map(e=>(0,s.jsx)("div",{className:"col",children:(0,s.jsxs)("div",{className:"card h-100 border-0 shadow-sm product-card",children:[(0,s.jsxs)("div",{className:"position-relative",children:[(0,s.jsx)("img",{src:e.photo,className:"card-img-top",alt:e.name,style:{height:"200px",objectFit:"cover"}}),e.newArrival&&(0,s.jsx)("span",{className:"position-absolute top-0 start-0 badge bg-success m-2",children:"New"}),!e.inStock&&(0,s.jsx)("div",{className:"position-absolute top-0 end-0 bottom-0 start-0 d-flex justify-content-center align-items-center bg-dark bg-opacity-50",children:(0,s.jsx)("span",{className:"badge bg-danger fs-6 px-3 py-2",children:"Out of Stock"})}),(0,s.jsxs)("div",{className:"product-actions position-absolute top-0 end-0 m-2 d-flex flex-column gap-2",children:[(0,s.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,s.jsx)(o,{size:16})}),(0,s.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,s.jsx)(d,{size:16})})]})]}),(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,s.jsx)("span",{className:"badge bg-light text-dark text-capitalize",children:H(e.brand)}),(0,s.jsx)("span",{className:"badge bg-secondary text-capitalize",children:q(e.category)})]}),(0,s.jsx)("h5",{className:"card-title",children:e.name}),(0,s.jsx)("p",{className:"card-text small text-muted mb-1",children:e.description.length>60?"".concat(e.description.substring(0,60),"..."):e.description}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center mt-3",children:[(0,s.jsxs)("span",{className:"fw-bold text-primary",children:["MWK",e.price]}),(0,s.jsxs)("button",{className:"btn btn-primary btn-sm",onClick:()=>{(0,c.B5)(e,()=>{J(!0)})},children:[(0,s.jsx)(m.A,{size:16,className:"me-1"})," Add to Cart"]})]})]})]})},e._id))}):(0,s.jsx)("div",{className:"list-group",children:b.map(e=>(0,s.jsx)("div",{className:"list-group-item list-group-item-action border-0 shadow-sm mb-3",children:(0,s.jsxs)("div",{className:"row g-0",children:[(0,s.jsxs)("div",{className:"col-md-3 position-relative",children:[(0,s.jsx)("img",{src:e.photo,className:"img-fluid rounded-start h-100 w-100",alt:e.name,style:{objectFit:"cover",maxHeight:"180px"}}),e.newArrival&&(0,s.jsx)("span",{className:"position-absolute top-0 start-0 badge bg-success m-2",children:"New"})]}),(0,s.jsx)("div",{className:"col-md-9",children:(0,s.jsxs)("div",{className:"card-body",children:[(0,s.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"badge bg-light text-dark text-capitalize me-2",children:H(e.brand)}),(0,s.jsx)("span",{className:"badge bg-secondary text-capitalize",children:q(e.category)})]}),(0,s.jsxs)("div",{className:"d-flex gap-2",children:[(0,s.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,s.jsx)(o,{size:16})}),(0,s.jsx)("button",{className:"btn btn-light btn-sm rounded-circle",children:(0,s.jsx)(d,{size:16})})]})]}),(0,s.jsx)("h5",{className:"card-title",children:e.name}),(0,s.jsx)("p",{className:"card-text",children:e.description}),(0,s.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("span",{className:"fw-bold text-primary fs-5",children:["$",e.price.toFixed(2)]}),(0,s.jsx)("p",{className:"text-muted mb-0 small",children:e.inStock?"In Stock (".concat(e.stockQuantity," available)"):"Out of Stock"})]}),(0,s.jsxs)("button",{className:"btn btn-primary",disabled:!e.inStock,children:[(0,s.jsx)(m.A,{size:16,className:"me-1"})," Add to Cart"]})]})]})})]})},e._id))}),P>1&&(0,s.jsxs)("nav",{className:"mt-4","aria-label":"Product pagination",children:[(0,s.jsx)("div",{className:"d-flex justify-content-center",children:(0,s.jsxs)("ul",{className:"pagination",children:[(0,s.jsx)("li",{className:"page-item ".concat(1===T?"disabled":""),children:(0,s.jsx)("button",{className:"page-link",onClick:()=>{T>1&&(F(T-1),document.getElementById("products-section").scrollIntoView({behavior:"smooth"}))},"aria-label":"Previous",children:(0,s.jsx)(h,{size:16})})}),(()=>{let e=[];e.push(1);let t=Math.max(2,T-1),a=Math.min(P-1,T+1);t>2&&e.push("...");for(let s=t;s<=a;s++)e.push(s);return a<P-1&&e.push("..."),P>1&&e.push(P),e})().map((e,t)=>"..."===e?(0,s.jsx)("li",{className:"page-item disabled",children:(0,s.jsx)("span",{className:"page-link",children:"..."})},"ellipsis-".concat(t)):(0,s.jsx)("li",{className:"page-item ".concat(T===e?"active":""),children:(0,s.jsx)("button",{className:"page-link",onClick:()=>W(e),children:e})},"page-".concat(e))),(0,s.jsx)("li",{className:"page-item ".concat(T===P?"disabled":""),children:(0,s.jsx)("button",{className:"page-link",onClick:()=>{T<P&&(F(T+1),document.getElementById("products-section").scrollIntoView({behavior:"smooth"}))},"aria-label":"Next",children:(0,s.jsx)(p,{size:16})})})]})}),(0,s.jsxs)("div",{className:"text-center mt-2 text-muted small",children:["Page ",T," of ",P]})]})]})})]})]})}},9946:(e,t,a)=>{"use strict";a.d(t,{A:()=>d});var s=a(2115);let c=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),l=e=>{let t=r(e);return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,s.forwardRef)((e,t)=>{let{color:a="currentColor",size:c=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:o="",children:d,iconNode:m,...h}=e;return(0,s.createElement)("svg",{ref:t,...n,width:c,height:c,stroke:a,strokeWidth:l?24*Number(r)/Number(c):r,className:i("lucide",o),...h},[...m.map(e=>{let[t,a]=e;return(0,s.createElement)(t,a)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let a=(0,s.forwardRef)((a,r)=>{let{className:n,...d}=a;return(0,s.createElement)(o,{ref:r,iconNode:t,className:i("lucide-".concat(c(l(e))),"lucide-".concat(e),n),...d})});return a.displayName=l(e),a}}},e=>{var t=t=>e(e.s=t);e.O(0,[6874,8441,1684,7358],()=>t(3524)),_N_E=e.O()}]);