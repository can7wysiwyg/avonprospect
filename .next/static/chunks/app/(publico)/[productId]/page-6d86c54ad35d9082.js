(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9263],{668:(a,e,t)=>{"use strict";t.d(e,{M:()=>s});let s="http://localhost:5200"},6506:(a,e,t)=>{Promise.resolve().then(t.bind(t,8584))},6736:(a,e,t)=>{"use strict";t.d(e,{Fs:()=>o,Jy:()=>n,QT:()=>c,bW:()=>r,d$:()=>i,o7:()=>d,oo:()=>x,p7:()=>l});var s=t(668);async function r(){try{let a=await fetch("".concat(s.M,"/public/all_categories"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Server Error ");return await a.json()}catch(a){console.log("Error fetching categories:",a)}}async function o(){try{let a=await fetch("".concat(s.M,"/public/all_brands"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Server Error ");return await a.json()}catch(a){console.log("Error fetching brands:",a)}}async function i(){try{let a=await fetch("".concat(s.M,"/public/all_products"),{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw Error("Server Error ");return await a.json()}catch(a){console.log("Error fetching products:",a)}}async function n(a){try{let e=await fetch("".concat(s.M,"/public/products_by_category/").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(a){console.log("Error fetching products:",a)}}async function c(a){try{let e=await fetch("".concat(s.M,"/public/products_by_brand/").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(a){console.log("Error fetching products:",a)}}async function l(a){try{let e=await fetch("".concat(s.M,"/public/category/").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(a){console.log("Error fetching products:",a)}}async function d(a){try{let e=await fetch("".concat(s.M,"/public/brand_single/").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(a){console.log("Error fetching products:",a)}}async function x(a){try{let e=await fetch("".concat(s.M,"/public/product_single/").concat(a),{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error("Server Error ");return await e.json()}catch(a){console.log("Error fetching product:",a)}}},8584:(a,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>b});var s=t(5155),r=t(9137),o=t.n(r),i=t(6736),n=t(5695),c=t(2115),l=t(7809),d=t(6516),x=t(6874),m=t.n(x),p=t(8631);function b(){let{productId:a}=(0,n.useParams)(),[e,t]=(0,c.useState)(null),[r,x]=(0,c.useState)({}),[b,h]=(0,c.useState)([]),[f,u]=(0,c.useState)({}),[j,g]=(0,c.useState)(!0),[w,y]=(0,c.useState)(null),[v,N]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{(async()=>{try{g(!0);let e=await (0,i.oo)(a);if(e&&e.product){t(e.product);let a=await (0,i.p7)(e.product.category),s=await (0,i.o7)(e.product.brand),r=await (0,i.d$)();x(null==a?void 0:a.category),u(null==s?void 0:s.brand),h(null==r?void 0:r.products)}else y("Product not found")}catch(a){console.log("There was a problem fetching the product:",a),y("Failed to load product")}finally{g(!1)}})()},[a]),j)?(0,s.jsx)("div",{className:"container py-5",children:(0,s.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"50vh"},children:(0,s.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,s.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}):w||!e?(0,s.jsxs)("div",{className:"container py-5",children:[(0,s.jsx)("div",{className:"alert alert-danger",children:w||"Product not found"}),(0,s.jsx)(m(),{href:"/products",className:"btn btn-primary",children:"Back to Products"})]}):(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 product-page",children:[(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 container py-5",children:[(a=>{if(a)return window.location.href="/cart"})(v),(0,s.jsx)("nav",{"aria-label":"breadcrumb",className:"jsx-64143a217aa33f05 mb-4",children:(0,s.jsxs)("ol",{className:"jsx-64143a217aa33f05 breadcrumb",children:[(0,s.jsx)("li",{className:"jsx-64143a217aa33f05 breadcrumb-item",children:(0,s.jsx)(m(),{href:"/",children:"Home"})}),(0,s.jsx)("li",{className:"jsx-64143a217aa33f05 breadcrumb-item",children:(0,s.jsx)(m(),{href:"/products",children:"Products"})}),(0,s.jsx)("li",{"aria-current":"page",className:"jsx-64143a217aa33f05 breadcrumb-item active",children:e.name})]})}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 row",children:[(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 col-lg-6 mb-4 mb-lg-0",children:(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 product-gallery",children:(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 main-image-container position-relative",children:(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 main-image",children:(0,s.jsx)("img",{src:e.photo,alt:e.name,className:"jsx-64143a217aa33f05 img-fluid rounded shadow-sm"})})})})}),(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 col-lg-6",children:(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 product-details",children:[(0,s.jsx)("h1",{className:"jsx-64143a217aa33f05 product-title display-5 fw-bold mb-1",children:e.name}),(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 product-price mb-4",children:(0,s.jsxs)("span",{className:"jsx-64143a217aa33f05 fs-2 fw-bold",children:["MWK",e.price]})}),(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 product-description mb-4",children:(0,s.jsx)("p",{className:"jsx-64143a217aa33f05 text-muted",children:e.description})}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 product-options mb-4",children:[(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 stock-status mb-4",children:[(0,s.jsx)("span",{className:"jsx-64143a217aa33f05 "+"badge ".concat(e.inStock?"bg-success":"bg-danger"),children:e.inStock?"In Stock":"Out of Stock"}),e.stockQuantity&&(0,s.jsxs)("span",{className:"jsx-64143a217aa33f05 ms-2 text-muted",children:["(",e.stockQuantity," available)"]})]}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 action-buttons d-flex flex-wrap gap-2 mb-4",children:[(0,s.jsxs)("button",{onClick:()=>{(0,p.B5)(e,()=>{N(!0)})},disabled:!e.inStock,className:"jsx-64143a217aa33f05 btn btn-primary btn-lg",children:[(0,s.jsx)(l.A,{size:20,className:"me-2"}),"Add to Cart"]}),(0,s.jsx)("button",{className:"jsx-64143a217aa33f05 btn btn-outline-dark btn-lg",children:(0,s.jsx)(d.A,{size:20})})]}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 product-meta",children:[(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 mb-2",children:[(0,s.jsx)("strong",{className:"jsx-64143a217aa33f05",children:"Category:"}),(0,s.jsx)("span",{className:"jsx-64143a217aa33f05 text-muted ms-1",children:null==r?void 0:r.catName})]}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 mb-2",children:[(0,s.jsx)("strong",{className:"jsx-64143a217aa33f05",children:"Brand:"}),(0,s.jsx)("span",{className:"jsx-64143a217aa33f05 text-muted ms-1",children:null==f?void 0:f.brandName})]})]})]})]})})]})]}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 container mb-5",children:[(0,s.jsxs)("ul",{id:"productTabs",role:"tablist",className:"jsx-64143a217aa33f05 nav nav-tabs",children:[(0,s.jsx)("li",{role:"presentation",className:"jsx-64143a217aa33f05 nav-item",children:(0,s.jsx)("button",{id:"description-tab","data-bs-toggle":"tab","data-bs-target":"#description",type:"button",role:"tab","aria-controls":"description","aria-selected":"true",className:"jsx-64143a217aa33f05 nav-link active",children:"Description"})}),(0,s.jsx)("li",{role:"presentation",className:"jsx-64143a217aa33f05 nav-item",children:(0,s.jsx)("button",{id:"shipping-tab","data-bs-toggle":"tab","data-bs-target":"#shipping",type:"button",role:"tab","aria-controls":"shipping","aria-selected":"false",className:"jsx-64143a217aa33f05 nav-link",children:"Shipping"})})]}),(0,s.jsxs)("div",{id:"productTabsContent",className:"jsx-64143a217aa33f05 tab-content p-4 border border-top-0 rounded-bottom",children:[(0,s.jsx)("div",{id:"description",role:"tabpanel","aria-labelledby":"description-tab",className:"jsx-64143a217aa33f05 tab-pane fade show active",children:(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 row",children:(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 col-md-8",children:[(0,s.jsx)("h3",{className:"jsx-64143a217aa33f05",children:"Product Details"}),(0,s.jsx)("p",{className:"jsx-64143a217aa33f05 lead",children:e.description})]})})}),(0,s.jsxs)("div",{id:"shipping",role:"tabpanel","aria-labelledby":"shipping-tab",className:"jsx-64143a217aa33f05 tab-pane fade",children:[(0,s.jsx)("h3",{className:"jsx-64143a217aa33f05",children:"Shipping"}),(0,s.jsx)("p",{className:"jsx-64143a217aa33f05",children:"Free shipping on all orders over ...."})]})]})]}),(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 bg-light py-5",children:(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 container",children:[(0,s.jsx)("h2",{className:"jsx-64143a217aa33f05 mb-4",children:"Related Products"}),(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 row",children:b&&b.length>0?b.filter(a=>(null==a?void 0:a.category)===e.category&&a._id!==e._id).slice(0,3).map((a,e)=>(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 col-md-4 col-sm-6 mb-4",children:(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 card h-100 product-card",children:[(0,s.jsx)(m(),{href:"/".concat(a._id),children:(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 product-image-container",children:(0,s.jsx)("img",{src:a.photo,alt:a.name,className:"jsx-64143a217aa33f05 card-img-top"})})}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 card-body",children:[(0,s.jsx)("h5",{className:"jsx-64143a217aa33f05 card-title",children:a.name}),(0,s.jsxs)("div",{className:"jsx-64143a217aa33f05 d-flex justify-content-between align-items-center",children:[(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 price-container",children:(0,s.jsxs)("span",{className:"jsx-64143a217aa33f05 fw-bold",children:["MWK",a.price]})}),(0,s.jsx)(m(),{href:"/".concat(a._id),className:"btn btn-sm btn-outline-primary",children:"View"})]})]})]})},a._id)):(0,s.jsx)("div",{className:"jsx-64143a217aa33f05 col-12",children:(0,s.jsx)("p",{className:"jsx-64143a217aa33f05 text-muted",children:"No related products found."})})})]})}),(0,s.jsx)(o(),{id:"64143a217aa33f05",children:".main-image-container{position:relative;overflow:hidden;background-color:#fff;-webkit-border-radius:6px;-moz-border-radius:6px;border-radius:6px;-webkit-box-shadow:0 4px 12px rgba(0,0,0,.05);-moz-box-shadow:0 4px 12px rgba(0,0,0,.05);box-shadow:0 4px 12px rgba(0,0,0,.05)}.main-image{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;height:500px}.main-image img{max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain}.thumbnail-gallery{gap:10px}.thumbnail-item{width:80px;height:80px;cursor:pointer;opacity:.7;-webkit-transition:all.2s ease;-moz-transition:all.2s ease;-o-transition:all.2s ease;transition:all.2s ease;border:2px solid transparent;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;overflow:hidden}.thumbnail-item:hover{opacity:.9}.thumbnail-item.active{opacity:1;border-color:var(--bs-primary)}.thumbnail-item img{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.carousel-control{position:absolute;top:50%;-webkit-transform:translatey(-50%);-moz-transform:translatey(-50%);-ms-transform:translatey(-50%);-o-transform:translatey(-50%);transform:translatey(-50%);background:rgba(255,255,255,.8);border:none;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;width:40px;height:40px;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;cursor:pointer;z-index:1;-webkit-box-shadow:0 2px 5px rgba(0,0,0,.1);-moz-box-shadow:0 2px 5px rgba(0,0,0,.1);box-shadow:0 2px 5px rgba(0,0,0,.1);-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s}.carousel-control:hover{background:rgba(255,255,255,1);-webkit-box-shadow:0 3px 8px rgba(0,0,0,.15);-moz-box-shadow:0 3px 8px rgba(0,0,0,.15);box-shadow:0 3px 8px rgba(0,0,0,.15)}.carousel-control-prev{left:10px}.carousel-control-next{right:10px}.color-circle{width:32px;height:32px;-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;cursor:pointer;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.1);-moz-box-shadow:0 2px 4px rgba(0,0,0,.1);box-shadow:0 2px 4px rgba(0,0,0,.1);-webkit-transition:all.2s;-moz-transition:all.2s;-o-transition:all.2s;transition:all.2s;position:relative}.color-circle:hover{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}.color-circle.active{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-ms-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1);-webkit-box-shadow:0 0 0 2px#fff,0 0 0 4px var(--bs-primary);-moz-box-shadow:0 0 0 2px#fff,0 0 0 4px var(--bs-primary);box-shadow:0 0 0 2px#fff,0 0 0 4px var(--bs-primary)}.product-meta{padding-top:20px;border-top:1px solid#eee}@media(max-width:992px){.main-image{height:400px}}@media(max-width:768px){.main-image{height:350px}.thumbnail-item{width:60px;height:60px}}@media(max-width:576px){.main-image{height:300px}.action-buttons{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.action-buttons button{width:100%}}.product-image-container{height:200px;overflow:hidden;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;background-color:#f8f9fa}.product-image-container img{max-height:100%;max-width:100%;-o-object-fit:contain;object-fit:contain}.product-card{-webkit-transition:-webkit-transform.3s,box-shadow.3s;-moz-transition:-moz-transform.3s,box-shadow.3s;-o-transition:-o-transform.3s,box-shadow.3s;transition:-webkit-transform.3s,box-shadow.3s;transition:-moz-transform.3s,box-shadow.3s;transition:-o-transform.3s,box-shadow.3s;transition:transform.3s,box-shadow.3s}.product-card:hover{-webkit-transform:translatey(-5px);-moz-transform:translatey(-5px);-ms-transform:translatey(-5px);-o-transform:translatey(-5px);transform:translatey(-5px);-webkit-box-shadow:0 10px 20px rgba(0,0,0,.1);-moz-box-shadow:0 10px 20px rgba(0,0,0,.1);box-shadow:0 10px 20px rgba(0,0,0,.1)}@media(max-width:768px){.product-image-container{height:180px}}"})]})}},8631:(a,e,t)=>{"use strict";t.d(e,{B5:()=>s,Ed:()=>n,SM:()=>i,Xl:()=>o,Yr:()=>r});let s=(a,e)=>{let t=[];localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.push({...a,count:1}),t=Array.from(new Set(t.map(a=>a._id))).map(a=>t.find(e=>e._id===a)),localStorage.setItem("cart",JSON.stringify(t)),e()},r=()=>localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")).length:0,o=()=>localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[],i=a=>{let e=[];localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e=e.filter(e=>e._id!==a),localStorage.setItem("cart",JSON.stringify(e))},n=a=>{localStorage.removeItem("cart")}}},a=>{var e=e=>a(a.s=e);a.O(0,[6874,1655,8441,1684,7358],()=>e(6506)),_N_E=a.O()}]);