{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/USER/Documents/GitHub/primo/front/app/%28publico%29/cart/page.js"],"sourcesContent":["// 'use client'\r\n// import React, { useState, useEffect } from 'react'\r\n// import { Trash2, ShoppingBag, Plus, Minus, ArrowLeft, CreditCard, Truck } from 'lucide-react'\r\n// import Link from 'next/link'\r\n// import { getCart, removeCartItem, emptyCartItems } from '@/helpers/core/CartFuncs'\r\n// import axios from 'axios'\r\n// import { ApiUrl } from '@/helpers/ApiUrl'\r\n// import { getSupertoken } from '@/helpers/AccessToken'\r\n\r\n\r\n\r\n// export default function ShoppingCart({ cartItems: initialCartItems }) {\r\n//   const [cartItems, setCartItems] = useState([])\r\n//   const [step, setStep] = useState('cart') // 'cart' or 'checkout'\r\n//   const [formData, setFormData] = useState({\r\n//     fullname: '',\r\n//     email: '',\r\n//     phonenumber: '',\r\n//     address: '',\r\n//   })\r\n//   const [isSubmitting, setIsSubmitting] = useState(false)\r\n//   const [errors, setErrors] = useState({})\r\n//   const usertoken = getSupertoken()\r\n\r\n//   useEffect(() => {\r\n//     const items = getCart().map(item => ({ ...item, quantity: 1 }));\r\n//     setCartItems(items);\r\n//   }, []);\r\n\r\n\r\n\r\n\r\n//   const subtotal = cartItems.reduce((acc, item) => {\r\n//     return acc + (item.price * item.quantity)\r\n//   }, 0)\r\n\r\n  \r\n//    const shippingCost = subtotal > 100 ? 0 : 15\r\n\r\n//   // Total cost\r\n//    const total = subtotal + shippingCost\r\n\r\n//   // Update quantity\r\n//   const updateQuantity = (id, newQuantity) => {\r\n//     if (newQuantity < 1) return\r\n\r\n//     // Check if the new quantity exceeds available stock\r\n//     const item = cartItems.find(item => item._id === id)\r\n//     if (newQuantity > item.stockQuantity) {\r\n//       alert(`Sorry, only ${item.stockQuantity} items are available in stock.`)\r\n//       return\r\n//     }\r\n\r\n//     const updatedCart = cartItems.map(item => \r\n//       item._id === id ? { ...item, quantity: newQuantity } : item\r\n//     )\r\n//     setCartItems(updatedCart)\r\n   \r\n//   }\r\n\r\n//   // Remove item from cart\r\n//   const removeItem = (id) => {\r\n//     const updatedCart = cartItems.filter(item => item._id !== id)\r\n//     removeCartItem(id)\r\n//     window.location.reload()\r\n//     setCartItems(updatedCart)\r\n    \r\n   \r\n//   }\r\n\r\n//   // Handle input change\r\n//   const handleInputChange = (e) => {\r\n//     const { name, value } = e.target\r\n//     setFormData({\r\n//       ...formData,\r\n//       [name]: value\r\n//     })\r\n    \r\n//     // Clear error when user starts typing\r\n//     if (errors[name]) {\r\n//       setErrors({\r\n//         ...errors,\r\n//         [name]: ''\r\n//       })\r\n//     }\r\n//   }\r\n\r\n//   // Validate form\r\n//   const validateForm = () => {\r\n//     const newErrors = {}\r\n    \r\n//     if (!formData.fullname.trim()) {\r\n//       newErrors.fullname = 'Full name is required'\r\n//     }\r\n    \r\n//     if (!formData.email.trim()) {\r\n//       newErrors.email = 'Email is required'\r\n//     } else if (!/^\\S+@\\S+\\.\\S+$/.test(formData.email)) {\r\n//       newErrors.email = 'Email is invalid'\r\n//     }\r\n    \r\n//     if (!formData.phonenumber.trim()) {\r\n//       newErrors.phonenumber = 'Phone number is required'\r\n//     }\r\n    \r\n//     if (!formData.address.trim()) {\r\n//       newErrors.address = 'Address is required'\r\n//     }\r\n    \r\n//     setErrors(newErrors)\r\n//     return Object.keys(newErrors).length === 0\r\n//   }\r\n\r\n//   // Handle form submission\r\n//   const handleSubmit = async (e) => {\r\n//     e.preventDefault()\r\n    \r\n//     if (!validateForm()) {\r\n//       return\r\n//     }\r\n    \r\n//     setIsSubmitting(true)\r\n    \r\n//     try {\r\n//       // Prepare cart data for submission\r\n//       const cartData = {\r\n//         ...formData,\r\n//         cartContents: cartItems.map(item => ({\r\n//           product: item._id,\r\n//           quantity: item.quantity\r\n//         })),\r\n//         amount: total\r\n//       }\r\n      \r\n    \r\n      \r\n//       const response = await axios.post(`${ApiUrl}/shopper/add_to_cart`, cartData, {\r\n//         headers: {\r\n//           Authorization: `Bearer ${usertoken}`\r\n//         }\r\n//       })\r\n      \r\n      \r\n//       if(response.data.msg) {\r\n//         alert(response.data.msg)\r\n//         setCartItems([])\r\n//         emptyCartItems()\r\n//         window.location.reload()\r\n//       setFormData({\r\n//         fullname: '',\r\n//         email: '',\r\n//         phonenumber: '',\r\n//         address: '',\r\n//       })\r\n\r\n//       }\r\n            \r\n      \r\n//       // Return to cart view\r\n//       setStep('cart')\r\n//     } catch (error) {\r\n//       console.error('Error submitting order:', error)\r\n//       alert('There was an error placing your order. Please try again.')\r\n//     } finally {\r\n//       setIsSubmitting(false)\r\n//     }\r\n//   }\r\n\r\n//   // If cart is empty\r\n//   if (cartItems.length === 0) {\r\n//     return (\r\n//       <div className=\"container py-5\">\r\n//         <div className=\"empty-cart text-center py-5\">\r\n//           <div className=\"empty-cart-icon mb-4\">\r\n//             <ShoppingBag size={80} color=\"#ccc\" />\r\n//           </div>\r\n//           <h2 className=\"mb-3\">Your cart is empty</h2>\r\n//           <p className=\"text-muted mb-4\">Looks like you have not added any items to your cart yet.</p>\r\n//           <Link href=\"/products\" className=\"btn btn-primary btn-lg\">\r\n//             Continue Shopping\r\n//           </Link>\r\n//         </div>\r\n//       </div>\r\n//     )\r\n//   }\r\n\r\n//   return (\r\n//     <div className=\"shopping-cart\">\r\n//       <div className=\"container py-5\">\r\n//         <h1 className=\"mb-4 fw-bold\">{step === 'cart' ? 'Shopping Cart' : 'Checkout'}</h1>\r\n        \r\n//         {step === 'checkout' && (\r\n//           <button \r\n//             onClick={() => setStep('cart')} \r\n//             className=\"btn btn-link text-decoration-none mb-3 ps-0\"\r\n//           >\r\n//             <ArrowLeft size={18} className=\"me-1\" /> Back to cart\r\n//           </button>\r\n//         )}\r\n        \r\n//         <div className=\"row g-4\">\r\n      \r\n//           <div className=\"col-lg-8\">\r\n//             {step === 'cart' ? (\r\n      \r\n//               <div className=\"card shadow-sm\">\r\n//                 <div className=\"card-header bg-white py-3\">\r\n//                   <div className=\"row align-items-center\">\r\n//                     <div className=\"col-6\">\r\n//                       <h5 className=\"mb-0\">Product</h5>\r\n//                     </div>\r\n//                     <div className=\"col-2 text-center d-none d-md-block\">\r\n//                       <h5 className=\"mb-0\">Price</h5>\r\n//                     </div>\r\n//                     <div className=\"col-2 text-center\">\r\n//                       <h5 className=\"mb-0\">Quantity</h5>\r\n//                     </div>\r\n//                     <div className=\"col-2 text-end\">\r\n//                       <h5 className=\"mb-0\">Total</h5>\r\n//                     </div>\r\n//                   </div>\r\n//                 </div>\r\n//                 <div className=\"card-body p-0\">\r\n//                   {cartItems.map((item) => (\r\n//                     <div key={item._id} className=\"cart-item border-bottom p-3\">\r\n//                       <div className=\"row align-items-center\">\r\n//                         {/* Product Image & Info */}\r\n//                         <div className=\"col-md-6 col-12 mb-3 mb-md-0\">\r\n//                           <div className=\"d-flex align-items-center\">\r\n//                             <div className=\"cart-item-image me-3\">\r\n//                               <img \r\n//                                 src={item.photo} \r\n//                                 alt={item.name} \r\n//                                 className=\"img-fluid rounded\"\r\n//                                 style={{ maxWidth: '80px', maxHeight: '80px', objectFit: 'cover' }}\r\n//                               />\r\n//                             </div>\r\n//                             <div className=\"cart-item-details\">\r\n//                               <h6 className=\"mb-1\">{item.name}</h6>\r\n//                               <div className=\"text-muted small d-md-none\">\r\n//                                 MWK{item.price}\r\n//                               </div>\r\n                              \r\n//                             </div>\r\n//                           </div>\r\n//                         </div>\r\n                        \r\n//                         {/* Price */}\r\n//                         <div className=\"col-md-2 col-12 text-center d-none d-md-block\">\r\n//                           <div className=\"fw-bold\">MWK{item.price}</div>\r\n//                         </div>\r\n                        \r\n//                         {/* Quantity */}\r\n//                         <div className=\"col-md-2 col-6 text-center\">\r\n//                           <div className=\"quantity-control d-flex align-items-center justify-content-center\">\r\n//                             <button \r\n//                               className=\"btn btn-sm btn-outline-secondary border-0\"\r\n//                               onClick={() => updateQuantity(item._id, item.quantity - 1)}\r\n//                               aria-label=\"Decrease quantity\"\r\n//                             >\r\n//                               <Minus size={16} />\r\n//                             </button>\r\n\r\n//                             <span>\r\n//   {Math.max(1, Math.min(item.quantity, item.stockQuantity))}\r\n// </span>\r\n\r\n\r\n                           \r\n//                             <button \r\n//                               className=\"btn btn-sm btn-outline-secondary border-0\"\r\n//                               onClick={() => updateQuantity(item._id, item.quantity + 1)}\r\n//                               aria-label=\"Increase quantity\"\r\n//                             >\r\n//                               <Plus size={16} />\r\n//                             </button>\r\n//                           </div>\r\n//                           <div className=\"mt-1 small text-muted\">\r\n//                             {item.stockQuantity > 0 ? `${item.stockQuantity} available` : 'Out of stock'}\r\n//                           </div>\r\n//                         </div>\r\n                        \r\n//                         {/* Item Total & Remove */}\r\n//                         <div className=\"col-md-2 col-6 text-end\">\r\n//                           <div className=\"fw-bold mb-2\">\r\n//                             MWK{(item.price * item.quantity)}\r\n//                           </div>\r\n//                           <button \r\n//                             className=\"btn btn-sm text-danger p-0\"\r\n//                             onClick={() => removeItem(item._id)}\r\n//                             aria-label=\"Remove item\"\r\n//                           >\r\n//                             <Trash2 size={16} className=\"me-1\" /> Remove\r\n//                           </button>\r\n//                         </div>\r\n//                       </div>\r\n//                     </div>\r\n//                   ))}\r\n//                 </div>\r\n//                 <div className=\"card-footer bg-white py-3\">\r\n//                   <div className=\"d-flex justify-content-between align-items-center\">\r\n//                     <Link href=\"/products\" className=\"btn btn-outline-secondary\">\r\n//                       <ArrowLeft size={18} className=\"me-1\" /> Continue Shopping\r\n//                     </Link>\r\n//                     <button \r\n//                       className=\"btn btn-primary\"\r\n//                       onClick={() => setStep('checkout')}\r\n//                     >\r\n//                       Proceed to Checkout <ArrowLeft size={18} className=\"ms-1\" style={{ transform: 'rotate(180deg)' }} />\r\n//                     </button>\r\n//                   </div>\r\n//                 </div>\r\n//               </div>\r\n//             ) : (\r\n//               /* Checkout Form */\r\n//               <div className=\"card shadow-sm\">\r\n//                 <div className=\"card-header bg-white py-3\">\r\n//                   <h5 className=\"mb-0\">Shipping Information</h5>\r\n//                 </div>\r\n//                 <div className=\"card-body\">\r\n//                   <form onSubmit={handleSubmit}>\r\n//                     <div className=\"row g-3\">\r\n//                       <div className=\"col-12\">\r\n//                         <label htmlFor=\"fullname\" className=\"form-label\">Full Name *</label>\r\n//                         <input\r\n//                           type=\"text\"\r\n//                           className={`form-control ${errors.fullname ? 'is-invalid' : ''}`}\r\n//                           id=\"fullname\"\r\n//                           name=\"fullname\"\r\n//                           value={formData.fullname}\r\n//                           onChange={handleInputChange}\r\n//                           placeholder=\"Enter your full name\"\r\n//                           required\r\n//                         />\r\n//                         {errors.fullname && (\r\n//                           <div className=\"invalid-feedback\">{errors.fullname}</div>\r\n//                         )}\r\n//                       </div>\r\n                      \r\n//                       <div className=\"col-md-6\">\r\n//                         <label htmlFor=\"email\" className=\"form-label\">Email Address *</label>\r\n//                         <input\r\n//                           type=\"email\"\r\n//                           className={`form-control ${errors.email ? 'is-invalid' : ''}`}\r\n//                           id=\"email\"\r\n//                           name=\"email\"\r\n//                           value={formData.email}\r\n//                           onChange={handleInputChange}\r\n//                           placeholder=\"you@example.com\"\r\n//                           required\r\n//                         />\r\n//                         {errors.email && (\r\n//                           <div className=\"invalid-feedback\">{errors.email}</div>\r\n//                         )}\r\n//                       </div>\r\n                      \r\n//                       <div className=\"col-md-6\">\r\n//                         <label htmlFor=\"phonenumber\" className=\"form-label\">Phone Number *</label>\r\n//                         <input\r\n//                           type=\"tel\"\r\n//                           className={`form-control ${errors.phonenumber ? 'is-invalid' : ''}`}\r\n//                           id=\"phonenumber\"\r\n//                           name=\"phonenumber\"\r\n//                           value={formData.phonenumber}\r\n//                           onChange={handleInputChange}\r\n//                           placeholder=\"+265 88 456 890\"\r\n//                           required\r\n//                         />\r\n//                         {errors.phonenumber && (\r\n//                           <div className=\"invalid-feedback\">{errors.phonenumber}</div>\r\n//                         )}\r\n//                       </div>\r\n                      \r\n//                       <div className=\"col-12\">\r\n//                         <label htmlFor=\"address\" className=\"form-label\">Full Address *</label>\r\n//                         <textarea\r\n//                           className={`form-control ${errors.address ? 'is-invalid' : ''}`}\r\n//                           id=\"address\"\r\n//                           name=\"address\"\r\n//                           rows=\"3\"\r\n//                           value={formData.address}\r\n//                           onChange={handleInputChange}\r\n//                           placeholder=\"Your address\"\r\n//                           required\r\n//                         />\r\n//                         {errors.address && (\r\n//                           <div className=\"invalid-feedback\">{errors.address}</div>\r\n//                         )}\r\n//                       </div>\r\n//                     </div>\r\n                    \r\n                                      \r\n//                     <div className=\"d-grid mt-4\">\r\n//                       <button \r\n//                         type=\"submit\" \r\n//                         className=\"btn btn-primary btn-lg\"\r\n//                         disabled={isSubmitting}\r\n//                       >\r\n//                         {isSubmitting ? (\r\n//                           <>\r\n//                             <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n//                             Processing Order...\r\n//                           </>\r\n//                         ) : (\r\n//                           <>Place Order</>\r\n//                         )}\r\n//                       </button>\r\n//                     </div>\r\n//                   </form>\r\n//                 </div>\r\n//               </div>\r\n//             )}\r\n//           </div>\r\n          \r\n//           {/* Order Summary */}\r\n//           <div className=\"col-lg-4\">\r\n//             <div className=\"card shadow-sm\">\r\n//               <div className=\"card-header bg-white py-3\">\r\n//                 <h5 className=\"mb-0\">Order Summary</h5>\r\n//               </div>\r\n//               <div className=\"card-body\">\r\n//                 <div className=\"d-flex justify-content-between mb-2\">\r\n//                   <span>Subtotal</span>\r\n//                   <span className=\"fw-bold\">MWK{subtotal}</span>\r\n//                 </div>\r\n              \r\n//                 <hr />\r\n//                 <div className=\"d-flex justify-content-between mb-2\">\r\n//                   <span className=\"fw-bold\">Total</span>\r\n//                   <span className=\"fw-bold fs-5\">MWK{total}</span>\r\n//                 </div>\r\n                \r\n//                 {step === 'cart' && (\r\n//                   <div className=\"d-grid mt-3\">\r\n//                     <button \r\n//                       className=\"btn btn-primary btn-lg\"\r\n//                       onClick={() => setStep('checkout')}\r\n//                     >\r\n//                       Checkout\r\n//                     </button>\r\n//                   </div>\r\n//                 )}\r\n                \r\n//                 {/* Cart Items Summary (Visible on Checkout) */}\r\n//                 {step === 'checkout' && (\r\n//                   <div className=\"mt-3\">\r\n//                     <h6 className=\"mb-3\">Cart Items ({cartItems.length})</h6>\r\n//                     <div className=\"summary-items\">\r\n//                       {cartItems.map((item) => (\r\n//                         <div key={item._id} className=\"d-flex justify-content-between align-items-center mb-2\">\r\n//                           <div className=\"d-flex align-items-center\">\r\n//                             <div className=\"small-image me-2\">\r\n//                               <img \r\n//                                 src={item.photo} \r\n//                                 alt={item.name}\r\n//                                 className=\"img-fluid rounded\"\r\n//                                 style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n//                               />\r\n//                             </div>\r\n//                             <div>\r\n//                               <div className=\"small fw-bold\">{item.name}</div>\r\n//                               <div className=\"text-muted small\">Qty: {item.quantity}</div>\r\n//                             </div>\r\n//                           </div>\r\n//                           <div className=\"text-end\">\r\n//                             <div className=\"fw-bold\">MWK{(item.price * item.quantity)}</div>\r\n//                           </div>\r\n//                         </div>\r\n//                       ))}\r\n//                     </div>\r\n//                   </div>\r\n//                 )}\r\n//               </div>\r\n//             </div>\r\n            \r\n            \r\n\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n\r\n//       <style jsx global>{`\r\n//         .cart-item {\r\n//           transition: background-color 0.2s;\r\n//         }\r\n        \r\n//         .cart-item:hover {\r\n//           background-color: #f8f9fa;\r\n//         }\r\n        \r\n//         .quantity-input::-webkit-inner-spin-button,\r\n//         .quantity-input::-webkit-outer-spin-button {\r\n//           -webkit-appearance: none;\r\n//           margin: 0;\r\n//         }\r\n        \r\n//         .quantity-input {\r\n//           -moz-appearance: textfield;\r\n//         }\r\n        \r\n//         .summary-items {\r\n//           max-height: 300px;\r\n//           overflow-y: auto;\r\n//         }\r\n        \r\n//         .form-control:focus,\r\n//         .btn:focus {\r\n//           box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\r\n//         }\r\n        \r\n//         @media (max-width: 768px) {\r\n//           .cart-item {\r\n//             padding: 15px 10px;\r\n//           }\r\n//         }\r\n//       `}</style>\r\n//     </div>\r\n//   )\r\n// }\r\n\r\n\r\n\r\n\r\n\r\n\r\n'use client'\r\nimport React, { useState, useEffect } from 'react'\r\nimport { Trash2, ShoppingBag, Plus, Minus, ArrowLeft, CreditCard, Truck } from 'lucide-react'\r\nimport Link from 'next/link'\r\nimport { getCart, removeCartItem, emptyCartItems } from '@/helpers/core/CartFuncs'\r\nimport axios from 'axios'\r\nimport { ApiUrl } from '@/helpers/ApiUrl'\r\nimport { getSupertoken } from '@/helpers/AccessToken'\r\n\r\nexport default function ShoppingCart({ cartItems: initialCartItems }) {\r\n  const [cartItems, setCartItems] = useState([])\r\n  const [step, setStep] = useState('cart') // 'cart' or 'checkout'\r\n  const [formData, setFormData] = useState({\r\n    fullname: '',\r\n    email: '',\r\n    phonenumber: '',\r\n    address: '',\r\n  })\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [errors, setErrors] = useState({})\r\n  const usertoken = getSupertoken()\r\n\r\n  useEffect(() => {\r\n    const items = getCart().map(item => ({ ...item, quantity: 1 }));\r\n    setCartItems(items);\r\n  }, []);\r\n\r\n  const subtotal = cartItems.reduce((acc, item) => {\r\n    return acc + (item.price * item.quantity)\r\n  }, 0)\r\n\r\n  const shippingCost = subtotal > 100 ? 0 : 15\r\n\r\n  // Total cost\r\n  const total = subtotal + shippingCost\r\n\r\n  // Update quantity\r\n  const updateQuantity = (id, newQuantity) => {\r\n    if (newQuantity < 1) return\r\n\r\n    // Check if the new quantity exceeds available stock\r\n    const item = cartItems.find(item => item._id === id)\r\n    if (newQuantity > item.stockQuantity) {\r\n      alert(`Sorry, only ${item.stockQuantity} items are available in stock.`)\r\n      return\r\n    }\r\n\r\n    const updatedCart = cartItems.map(item => \r\n      item._id === id ? { ...item, quantity: newQuantity } : item\r\n    )\r\n    setCartItems(updatedCart)\r\n  }\r\n\r\n  // Remove item from cart\r\n  const removeItem = (id) => {\r\n    const updatedCart = cartItems.filter(item => item._id !== id)\r\n    removeCartItem(id)\r\n    window.location.reload()\r\n    setCartItems(updatedCart)\r\n  }\r\n\r\n  // Handle input change\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    })\r\n    \r\n    // Clear error when user starts typing\r\n    if (errors[name]) {\r\n      setErrors({\r\n        ...errors,\r\n        [name]: ''\r\n      })\r\n    }\r\n  }\r\n\r\n  // Validate form\r\n  const validateForm = () => {\r\n    const newErrors = {}\r\n    \r\n    if (!formData.fullname.trim()) {\r\n      newErrors.fullname = 'Full name is required'\r\n    }\r\n    \r\n    if (!formData.email.trim()) {\r\n      newErrors.email = 'Email is required'\r\n    } else if (!/^\\S+@\\S+\\.\\S+$/.test(formData.email)) {\r\n      newErrors.email = 'Email is invalid'\r\n    }\r\n    \r\n    if (!formData.phonenumber.trim()) {\r\n      newErrors.phonenumber = 'Phone number is required'\r\n    }\r\n    \r\n    if (!formData.address.trim()) {\r\n      newErrors.address = 'Address is required'\r\n    }\r\n    \r\n    setErrors(newErrors)\r\n    return Object.keys(newErrors).length === 0\r\n  }\r\n\r\n  // Handle form submission\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    \r\n    if (!validateForm()) {\r\n      return\r\n    }\r\n    \r\n    setIsSubmitting(true)\r\n    \r\n    try {\r\n      // Prepare cart data for submission\r\n      const cartData = {\r\n        ...formData,\r\n        cartContents: cartItems.map(item => ({\r\n          product: item._id,\r\n          quantity: item.quantity\r\n        })),\r\n        amount: total\r\n      }\r\n      \r\n      const response = await axios.post(`${ApiUrl}/shopper/add_to_cart`, cartData, {\r\n        headers: {\r\n          Authorization: `Bearer ${usertoken}`\r\n        }\r\n      })\r\n      \r\n      if(response.data.msg) {\r\n        alert(response.data.msg)\r\n        setCartItems([])\r\n        emptyCartItems()\r\n        window.location.reload()\r\n        setFormData({\r\n          fullname: '',\r\n          email: '',\r\n          phonenumber: '',\r\n          address: '',\r\n        })\r\n      }\r\n      \r\n      // Return to cart view\r\n      setStep('cart')\r\n    } catch (error) {\r\n      console.error('Error submitting order:', error)\r\n      alert('There was an error placing your order. Please try again.')\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  // If cart is empty\r\n  if (cartItems.length === 0) {\r\n    return (\r\n      <div className=\"container py-5\">\r\n        <div className=\"empty-cart text-center py-5\">\r\n          <div className=\"empty-cart-icon mb-4\">\r\n            <ShoppingBag size={80} color=\"#ccc\" />\r\n          </div>\r\n          <h2 className=\"mb-3\">Your cart is empty</h2>\r\n          <p className=\"text-muted mb-4\">Looks like you have not added any items to your cart yet.</p>\r\n          <Link href=\"/products\" className=\"btn btn-primary btn-lg\">\r\n            Continue Shopping\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"shopping-cart\">\r\n      <div className=\"container py-4\">\r\n        <h1 className=\"mb-4 fw-bold\">{step === 'cart' ? 'Shopping Cart' : 'Checkout'}</h1>\r\n        \r\n        {step === 'checkout' && (\r\n          <button \r\n            onClick={() => setStep('cart')} \r\n            className=\"btn btn-link text-decoration-none mb-3 ps-0\"\r\n          >\r\n            <ArrowLeft size={18} className=\"me-1\" /> Back to cart\r\n          </button>\r\n        )}\r\n        \r\n        <div className=\"row g-4\">\r\n          <div className=\"col-lg-8\">\r\n            {step === 'cart' ? (\r\n              <div className=\"card shadow-sm\">\r\n                {/* Mobile cart items header - only visible on small screens */}\r\n                <div className=\"card-header bg-white py-3 d-md-none\">\r\n                  <h5 className=\"mb-0\">Your Items</h5>\r\n                </div>\r\n                \r\n                {/* Desktop cart items header - hidden on small screens */}\r\n                <div className=\"card-header bg-white py-3 d-none d-md-block\">\r\n                  <div className=\"row align-items-center\">\r\n                    <div className=\"col-6\">\r\n                      <h5 className=\"mb-0\">Product</h5>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <h5 className=\"mb-0\">Price</h5>\r\n                    </div>\r\n                    <div className=\"col-2 text-center\">\r\n                      <h5 className=\"mb-0\">Quantity</h5>\r\n                    </div>\r\n                    <div className=\"col-2 text-end\">\r\n                      <h5 className=\"mb-0\">Total</h5>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"card-body p-0\">\r\n                  {cartItems.map((item) => (\r\n                    <div key={item._id} className=\"cart-item border-bottom p-3\">\r\n                      <div className=\"row align-items-center\">\r\n                        {/* Product Image & Info */}\r\n                        <div className=\"col-md-6 col-12 mb-3 mb-md-0\">\r\n                          <div className=\"d-flex align-items-center\">\r\n                            <div className=\"cart-item-image me-3\">\r\n                              <img \r\n                                src={item.photo} \r\n                                alt={item.name} \r\n                                className=\"img-fluid rounded\"\r\n                                style={{ width: '80px', height: '80px', objectFit: 'cover' }}\r\n                              />\r\n                            </div>\r\n                            <div className=\"cart-item-details\">\r\n                              <h6 className=\"mb-1\">{item.name}</h6>\r\n                              <div className=\"d-md-none\">\r\n                                <span className=\"fw-bold me-2\">Price:</span>\r\n                                <span className=\"fw-bold\">MWK{item.price}</span>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {/* Price - desktop only */}\r\n                        <div className=\"col-md-2 col-12 text-center d-none d-md-block\">\r\n                          <div className=\"fw-bold\">MWK{item.price}</div>\r\n                        </div>\r\n                        \r\n                        {/* Quantity */}\r\n                        <div className=\"col-md-2 col-6 text-center\">\r\n                          <div className=\"d-md-none mb-1 fw-medium\">Quantity:</div>\r\n                          <div className=\"quantity-control d-flex align-items-center justify-content-center\">\r\n                            <button \r\n                              className=\"btn btn-sm btn-outline-secondary quantity-btn\"\r\n                              onClick={() => updateQuantity(item._id, item.quantity - 1)}\r\n                              aria-label=\"Decrease quantity\"\r\n                            >\r\n                              <Minus size={16} />\r\n                            </button>\r\n                            <span className=\"quantity-display\">\r\n                              {Math.max(1, Math.min(item.quantity, item.stockQuantity))}\r\n                            </span>\r\n                            <button \r\n                              className=\"btn btn-sm btn-outline-secondary quantity-btn\"\r\n                              onClick={() => updateQuantity(item._id, item.quantity + 1)}\r\n                              aria-label=\"Increase quantity\"\r\n                            >\r\n                              <Plus size={16} />\r\n                            </button>\r\n                          </div>\r\n                          <div className=\"mt-1 small text-muted\">\r\n                            {item.stockQuantity > 0 ? `${item.stockQuantity} available` : 'Out of stock'}\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {/* Item Total & Remove */}\r\n                        <div className=\"col-md-2 col-6 text-end\">\r\n                          <div className=\"d-md-none mb-1 fw-medium\">Total:</div>\r\n                          <div className=\"fw-bold mb-2\">\r\n                            MWK{(item.price * item.quantity)}\r\n                          </div>\r\n                          <button \r\n                            className=\"btn btn-sm text-danger p-0\"\r\n                            onClick={() => removeItem(item._id)}\r\n                            aria-label=\"Remove item\"\r\n                          >\r\n                            <Trash2 size={16} className=\"me-1\" /> Remove\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div className=\"card-footer bg-white py-3\">\r\n                  <div className=\"d-flex flex-column flex-sm-row justify-content-between align-items-center gap-3\">\r\n                    <Link href=\"/products\" className=\"btn btn-outline-secondary w-100 w-sm-auto\">\r\n                      <ArrowLeft size={18} className=\"me-1\" /> Continue Shopping\r\n                    </Link>\r\n                    <button \r\n                      className=\"btn btn-primary w-100 w-sm-auto\"\r\n                      onClick={() => setStep('checkout')}\r\n                    >\r\n                      Proceed to Checkout <ArrowLeft size={18} className=\"ms-1\" style={{ transform: 'rotate(180deg)' }} />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              /* Checkout Form */\r\n              <div className=\"card shadow-sm\">\r\n                <div className=\"card-header bg-white py-3\">\r\n                  <h5 className=\"mb-0\">Shipping Information</h5>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                  <form onSubmit={handleSubmit}>\r\n                    <div className=\"row g-3\">\r\n                      <div className=\"col-12\">\r\n                        <label htmlFor=\"fullname\" className=\"form-label\">Full Name *</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          className={`form-control ${errors.fullname ? 'is-invalid' : ''}`}\r\n                          id=\"fullname\"\r\n                          name=\"fullname\"\r\n                          value={formData.fullname}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"Enter your full name\"\r\n                          required\r\n                        />\r\n                        {errors.fullname && (\r\n                          <div className=\"invalid-feedback\">{errors.fullname}</div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"col-md-6\">\r\n                        <label htmlFor=\"email\" className=\"form-label\">Email Address *</label>\r\n                        <input\r\n                          type=\"email\"\r\n                          className={`form-control ${errors.email ? 'is-invalid' : ''}`}\r\n                          id=\"email\"\r\n                          name=\"email\"\r\n                          value={formData.email}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"you@example.com\"\r\n                          required\r\n                        />\r\n                        {errors.email && (\r\n                          <div className=\"invalid-feedback\">{errors.email}</div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"col-md-6\">\r\n                        <label htmlFor=\"phonenumber\" className=\"form-label\">Phone Number *</label>\r\n                        <input\r\n                          type=\"tel\"\r\n                          className={`form-control ${errors.phonenumber ? 'is-invalid' : ''}`}\r\n                          id=\"phonenumber\"\r\n                          name=\"phonenumber\"\r\n                          value={formData.phonenumber}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"+265 88 456 890\"\r\n                          required\r\n                        />\r\n                        {errors.phonenumber && (\r\n                          <div className=\"invalid-feedback\">{errors.phonenumber}</div>\r\n                        )}\r\n                      </div>\r\n                      \r\n                      <div className=\"col-12\">\r\n                        <label htmlFor=\"address\" className=\"form-label\">Full Address *</label>\r\n                        <textarea\r\n                          className={`form-control ${errors.address ? 'is-invalid' : ''}`}\r\n                          id=\"address\"\r\n                          name=\"address\"\r\n                          rows=\"3\"\r\n                          value={formData.address}\r\n                          onChange={handleInputChange}\r\n                          placeholder=\"Your address\"\r\n                          required\r\n                        />\r\n                        {errors.address && (\r\n                          <div className=\"invalid-feedback\">{errors.address}</div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    <div className=\"d-grid mt-4\">\r\n                      <button \r\n                        type=\"submit\" \r\n                        className=\"btn btn-primary btn-lg\"\r\n                        disabled={isSubmitting}\r\n                      >\r\n                        {isSubmitting ? (\r\n                          <>\r\n                            <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\" aria-hidden=\"true\"></span>\r\n                            Processing Order...\r\n                          </>\r\n                        ) : (\r\n                          <>Place Order</>\r\n                        )}\r\n                      </button>\r\n                    </div>\r\n                  </form>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n          \r\n          {/* Order Summary */}\r\n          <div className=\"col-lg-4\">\r\n            <div className=\"card shadow-sm\">\r\n              <div className=\"card-header bg-white py-3\">\r\n                <h5 className=\"mb-0\">Order Summary</h5>\r\n              </div>\r\n              <div className=\"card-body\">\r\n                <div className=\"d-flex justify-content-between mb-2\">\r\n                  <span>Subtotal</span>\r\n                  <span className=\"fw-bold\">MWK{subtotal}</span>\r\n                </div>\r\n              \r\n                <hr />\r\n                <div className=\"d-flex justify-content-between mb-2\">\r\n                  <span className=\"fw-bold\">Total</span>\r\n                  <span className=\"fw-bold fs-5\">MWK{total}</span>\r\n                </div>\r\n                \r\n                {step === 'cart' && (\r\n                  <div className=\"d-grid mt-3 d-lg-block d-none\">\r\n                    <button \r\n                      className=\"btn btn-primary btn-lg w-100\"\r\n                      onClick={() => setStep('checkout')}\r\n                    >\r\n                      Checkout\r\n                    </button>\r\n                  </div>\r\n                )}\r\n                \r\n                {/* Cart Items Summary (Visible on Checkout) */}\r\n                {step === 'checkout' && (\r\n                  <div className=\"mt-3\">\r\n                    <h6 className=\"mb-3\">Cart Items ({cartItems.length})</h6>\r\n                    <div className=\"summary-items\">\r\n                      {cartItems.map((item) => (\r\n                        <div key={item._id} className=\"d-flex justify-content-between align-items-center mb-2\">\r\n                          <div className=\"d-flex align-items-center\">\r\n                            <div className=\"small-image me-2\">\r\n                              <img \r\n                                src={item.photo} \r\n                                alt={item.name}\r\n                                className=\"img-fluid rounded\"\r\n                                style={{ width: '40px', height: '40px', objectFit: 'cover' }}\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <div className=\"small fw-bold\">{item.name}</div>\r\n                              <div className=\"text-muted small\">Qty: {item.quantity}</div>\r\n                            </div>\r\n                          </div>\r\n                          <div className=\"text-end\">\r\n                            <div className=\"fw-bold\">MWK{(item.price * item.quantity)}</div>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style jsx global>{`\r\n        .cart-item {\r\n          transition: background-color 0.2s;\r\n        }\r\n        \r\n        .cart-item:hover {\r\n          background-color: #f8f9fa;\r\n        }\r\n        \r\n        .quantity-input::-webkit-inner-spin-button,\r\n        .quantity-input::-webkit-outer-spin-button {\r\n          -webkit-appearance: none;\r\n          margin: 0;\r\n        }\r\n        \r\n        .quantity-input {\r\n          -moz-appearance: textfield;\r\n        }\r\n        \r\n        .quantity-control {\r\n          max-width: 120px;\r\n          margin: 0 auto;\r\n        }\r\n        \r\n        .quantity-display {\r\n          display: inline-block;\r\n          min-width: 30px;\r\n          padding: 0 5px;\r\n          font-weight: 500;\r\n        }\r\n        \r\n        .quantity-btn {\r\n          border-radius: 4px;\r\n          width: 30px;\r\n          height: 30px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          padding: 0;\r\n          margin: 0 5px;\r\n          border: 1px solid #dee2e6;\r\n        }\r\n        \r\n        .summary-items {\r\n          max-height: 300px;\r\n          overflow-y: auto;\r\n        }\r\n        \r\n        .form-control:focus,\r\n        .btn:focus {\r\n          box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);\r\n        }\r\n        \r\n        @media (max-width: 767px) {\r\n          .cart-item {\r\n            padding: 15px 10px;\r\n          }\r\n          \r\n          .cart-item-image {\r\n            width: 70px;\r\n          }\r\n          \r\n          .quantity-control {\r\n            margin: 0;\r\n          }\r\n          \r\n          .fw-medium {\r\n            font-weight: 500;\r\n          }\r\n        }\r\n        \r\n        @media (min-width: 576px) {\r\n          .w-sm-auto {\r\n            width: auto !important;\r\n          }\r\n        }\r\n      `}</style>\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":"AAAA,eAAe;AACf,qDAAqD;AACrD,gGAAgG;AAChG,+BAA+B;AAC/B,qFAAqF;AACrF,4BAA4B;AAC5B,4CAA4C;AAC5C,wDAAwD;AAIxD,0EAA0E;AAC1E,mDAAmD;AACnD,qEAAqE;AACrE,+CAA+C;AAC/C,oBAAoB;AACpB,iBAAiB;AACjB,uBAAuB;AACvB,mBAAmB;AACnB,OAAO;AACP,4DAA4D;AAC5D,6CAA6C;AAC7C,sCAAsC;AAEtC,sBAAsB;AACtB,uEAAuE;AACvE,2BAA2B;AAC3B,YAAY;AAKZ,uDAAuD;AACvD,gDAAgD;AAChD,UAAU;AAGV,kDAAkD;AAElD,kBAAkB;AAClB,2CAA2C;AAE3C,uBAAuB;AACvB,kDAAkD;AAClD,kCAAkC;AAElC,2DAA2D;AAC3D,2DAA2D;AAC3D,8CAA8C;AAC9C,iFAAiF;AACjF,eAAe;AACf,QAAQ;AAER,iDAAiD;AACjD,oEAAoE;AACpE,QAAQ;AACR,gCAAgC;AAEhC,MAAM;AAEN,6BAA6B;AAC7B,iCAAiC;AACjC,oEAAoE;AACpE,yBAAyB;AACzB,+BAA+B;AAC/B,gCAAgC;AAGhC,MAAM;AAEN,2BAA2B;AAC3B,uCAAuC;AACvC,uCAAuC;AACvC,oBAAoB;AACpB,qBAAqB;AACrB,sBAAsB;AACtB,SAAS;AAET,6CAA6C;AAC7C,0BAA0B;AAC1B,oBAAoB;AACpB,qBAAqB;AACrB,qBAAqB;AACrB,WAAW;AACX,QAAQ;AACR,MAAM;AAEN,qBAAqB;AACrB,iCAAiC;AACjC,2BAA2B;AAE3B,uCAAuC;AACvC,qDAAqD;AACrD,QAAQ;AAER,oCAAoC;AACpC,8CAA8C;AAC9C,2DAA2D;AAC3D,6CAA6C;AAC7C,QAAQ;AAER,0CAA0C;AAC1C,2DAA2D;AAC3D,QAAQ;AAER,sCAAsC;AACtC,kDAAkD;AAClD,QAAQ;AAER,2BAA2B;AAC3B,iDAAiD;AACjD,MAAM;AAEN,8BAA8B;AAC9B,wCAAwC;AACxC,yBAAyB;AAEzB,6BAA6B;AAC7B,eAAe;AACf,QAAQ;AAER,4BAA4B;AAE5B,YAAY;AACZ,4CAA4C;AAC5C,2BAA2B;AAC3B,uBAAuB;AACvB,iDAAiD;AACjD,+BAA+B;AAC/B,oCAAoC;AACpC,eAAe;AACf,wBAAwB;AACxB,UAAU;AAIV,uFAAuF;AACvF,qBAAqB;AACrB,iDAAiD;AACjD,YAAY;AACZ,WAAW;AAGX,gCAAgC;AAChC,mCAAmC;AACnC,2BAA2B;AAC3B,2BAA2B;AAC3B,mCAAmC;AACnC,sBAAsB;AACtB,wBAAwB;AACxB,qBAAqB;AACrB,2BAA2B;AAC3B,uBAAuB;AACvB,WAAW;AAEX,UAAU;AAGV,+BAA+B;AAC/B,wBAAwB;AACxB,wBAAwB;AACxB,wDAAwD;AACxD,0EAA0E;AAC1E,kBAAkB;AAClB,+BAA+B;AAC/B,QAAQ;AACR,MAAM;AAEN,wBAAwB;AACxB,kCAAkC;AAClC,eAAe;AACf,yCAAyC;AACzC,wDAAwD;AACxD,mDAAmD;AACnD,qDAAqD;AACrD,mBAAmB;AACnB,yDAAyD;AACzD,yGAAyG;AACzG,uEAAuE;AACvE,gCAAgC;AAChC,oBAAoB;AACpB,iBAAiB;AACjB,eAAe;AACf,QAAQ;AACR,MAAM;AAEN,aAAa;AACb,sCAAsC;AACtC,yCAAyC;AACzC,6FAA6F;AAE7F,oCAAoC;AACpC,qBAAqB;AACrB,+CAA+C;AAC/C,sEAAsE;AACtE,cAAc;AACd,oEAAoE;AACpE,sBAAsB;AACtB,aAAa;AAEb,oCAAoC;AAEpC,uCAAuC;AACvC,mCAAmC;AAEnC,iDAAiD;AACjD,8DAA8D;AAC9D,6DAA6D;AAC7D,8CAA8C;AAC9C,0DAA0D;AAC1D,6BAA6B;AAC7B,4EAA4E;AAC5E,wDAAwD;AACxD,6BAA6B;AAC7B,0DAA0D;AAC1D,2DAA2D;AAC3D,6BAA6B;AAC7B,uDAAuD;AACvD,wDAAwD;AACxD,6BAA6B;AAC7B,2BAA2B;AAC3B,yBAAyB;AACzB,kDAAkD;AAClD,+CAA+C;AAC/C,mFAAmF;AACnF,iEAAiE;AACjE,uDAAuD;AACvD,yEAAyE;AACzE,wEAAwE;AACxE,qEAAqE;AACrE,sCAAsC;AACtC,oDAAoD;AACpD,mDAAmD;AACnD,gEAAgE;AAChE,sGAAsG;AACtG,mCAAmC;AACnC,qCAAqC;AACrC,kEAAkE;AAClE,sEAAsE;AACtE,6EAA6E;AAC7E,kDAAkD;AAClD,uCAAuC;AAEvC,qCAAqC;AACrC,mCAAmC;AACnC,iCAAiC;AAEjC,wCAAwC;AACxC,0FAA0F;AAC1F,2EAA2E;AAC3E,iCAAiC;AAEjC,2CAA2C;AAC3C,uEAAuE;AACvE,gHAAgH;AAChH,uCAAuC;AACvC,sFAAsF;AACtF,4FAA4F;AAC5F,+DAA+D;AAC/D,gCAAgC;AAChC,oDAAoD;AACpD,wCAAwC;AAExC,qCAAqC;AACrC,+DAA+D;AAC/D,UAAU;AAIV,uCAAuC;AACvC,sFAAsF;AACtF,4FAA4F;AAC5F,+DAA+D;AAC/D,gCAAgC;AAChC,mDAAmD;AACnD,wCAAwC;AACxC,mCAAmC;AACnC,oEAAoE;AACpE,4GAA4G;AAC5G,mCAAmC;AACnC,iCAAiC;AAEjC,sDAAsD;AACtD,oEAAoE;AACpE,2DAA2D;AAC3D,gEAAgE;AAChE,mCAAmC;AACnC,qCAAqC;AACrC,qEAAqE;AACrE,mEAAmE;AACnE,uDAAuD;AACvD,8BAA8B;AAC9B,2EAA2E;AAC3E,sCAAsC;AACtC,iCAAiC;AACjC,+BAA+B;AAC/B,6BAA6B;AAC7B,wBAAwB;AACxB,yBAAyB;AACzB,8DAA8D;AAC9D,wFAAwF;AACxF,oFAAoF;AACpF,mFAAmF;AACnF,8BAA8B;AAC9B,+BAA+B;AAC/B,oDAAoD;AACpD,4DAA4D;AAC5D,wBAAwB;AACxB,6HAA6H;AAC7H,gCAAgC;AAChC,2BAA2B;AAC3B,yBAAyB;AACzB,uBAAuB;AACvB,oBAAoB;AACpB,oCAAoC;AACpC,iDAAiD;AACjD,8DAA8D;AAC9D,mEAAmE;AACnE,yBAAyB;AACzB,8CAA8C;AAC9C,mDAAmD;AACnD,gDAAgD;AAChD,iDAAiD;AACjD,+FAA+F;AAC/F,iCAAiC;AACjC,wCAAwC;AACxC,8FAA8F;AAC9F,0CAA0C;AAC1C,4CAA4C;AAC5C,sDAAsD;AACtD,yDAAyD;AACzD,+DAA+D;AAC/D,qCAAqC;AACrC,6BAA6B;AAC7B,gDAAgD;AAChD,sFAAsF;AACtF,6BAA6B;AAC7B,+BAA+B;AAE/B,mDAAmD;AACnD,gGAAgG;AAChG,iCAAiC;AACjC,yCAAyC;AACzC,2FAA2F;AAC3F,uCAAuC;AACvC,yCAAyC;AACzC,mDAAmD;AACnD,yDAAyD;AACzD,0DAA0D;AAC1D,qCAAqC;AACrC,6BAA6B;AAC7B,6CAA6C;AAC7C,mFAAmF;AACnF,6BAA6B;AAC7B,+BAA+B;AAE/B,mDAAmD;AACnD,qGAAqG;AACrG,iCAAiC;AACjC,uCAAuC;AACvC,iGAAiG;AACjG,6CAA6C;AAC7C,+CAA+C;AAC/C,yDAAyD;AACzD,yDAAyD;AACzD,0DAA0D;AAC1D,qCAAqC;AACrC,6BAA6B;AAC7B,mDAAmD;AACnD,yFAAyF;AACzF,6BAA6B;AAC7B,+BAA+B;AAE/B,iDAAiD;AACjD,iGAAiG;AACjG,oCAAoC;AACpC,6FAA6F;AAC7F,yCAAyC;AACzC,2CAA2C;AAC3C,qCAAqC;AACrC,qDAAqD;AACrD,yDAAyD;AACzD,uDAAuD;AACvD,qCAAqC;AACrC,6BAA6B;AAC7B,+CAA+C;AAC/C,qFAAqF;AACrF,6BAA6B;AAC7B,+BAA+B;AAC/B,6BAA6B;AAG7B,oDAAoD;AACpD,iCAAiC;AACjC,yCAAyC;AACzC,6DAA6D;AAC7D,kDAAkD;AAClD,0BAA0B;AAC1B,4CAA4C;AAC5C,+BAA+B;AAC/B,+HAA+H;AAC/H,kDAAkD;AAClD,gCAAgC;AAChC,gCAAgC;AAChC,6CAA6C;AAC7C,6BAA6B;AAC7B,kCAAkC;AAClC,6BAA6B;AAC7B,4BAA4B;AAC5B,yBAAyB;AACzB,uBAAuB;AACvB,iBAAiB;AACjB,mBAAmB;AAEnB,kCAAkC;AAClC,uCAAuC;AACvC,+CAA+C;AAC/C,4DAA4D;AAC5D,0DAA0D;AAC1D,uBAAuB;AACvB,4CAA4C;AAC5C,wEAAwE;AACxE,0CAA0C;AAC1C,mEAAmE;AACnE,yBAAyB;AAEzB,yBAAyB;AACzB,wEAAwE;AACxE,2DAA2D;AAC3D,qEAAqE;AACrE,yBAAyB;AAEzB,wCAAwC;AACxC,kDAAkD;AAClD,+BAA+B;AAC/B,2DAA2D;AAC3D,4DAA4D;AAC5D,wBAAwB;AACxB,iCAAiC;AACjC,gCAAgC;AAChC,2BAA2B;AAC3B,qBAAqB;AAErB,mEAAmE;AACnE,4CAA4C;AAC5C,2CAA2C;AAC3C,gFAAgF;AAChF,sDAAsD;AACtD,mDAAmD;AACnD,kHAAkH;AAClH,wEAAwE;AACxE,iEAAiE;AACjE,sCAAsC;AACtC,oDAAoD;AACpD,kDAAkD;AAClD,gEAAgE;AAChE,gGAAgG;AAChG,mCAAmC;AACnC,qCAAqC;AACrC,oCAAoC;AACpC,iFAAiF;AACjF,6FAA6F;AAC7F,qCAAqC;AACrC,mCAAmC;AACnC,uDAAuD;AACvD,+FAA+F;AAC/F,mCAAmC;AACnC,iCAAiC;AACjC,4BAA4B;AAC5B,6BAA6B;AAC7B,2BAA2B;AAC3B,qBAAqB;AACrB,uBAAuB;AACvB,qBAAqB;AAIrB,mBAAmB;AACnB,iBAAiB;AACjB,eAAe;AAEf,6BAA6B;AAC7B,uBAAuB;AACvB,+CAA+C;AAC/C,YAAY;AAEZ,6BAA6B;AAC7B,uCAAuC;AACvC,YAAY;AAEZ,sDAAsD;AACtD,uDAAuD;AACvD,sCAAsC;AACtC,uBAAuB;AACvB,YAAY;AAEZ,4BAA4B;AAC5B,wCAAwC;AACxC,YAAY;AAEZ,2BAA2B;AAC3B,+BAA+B;AAC/B,8BAA8B;AAC9B,YAAY;AAEZ,+BAA+B;AAC/B,uBAAuB;AACvB,gEAAgE;AAChE,YAAY;AAEZ,sCAAsC;AACtC,yBAAyB;AACzB,kCAAkC;AAClC,cAAc;AACd,YAAY;AACZ,mBAAmB;AACnB,aAAa;AACb,MAAM;AACN,IAAI;;;;;;AAQJ;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;AAPA;;;;;;;;;AASe,SAAS,aAAa,EAAE,WAAW,gBAAgB,EAAE;;IAClE,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAC7C,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,QAAQ,uBAAuB;;IAChE,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;QACvC,UAAU;QACV,OAAO;QACP,aAAa;QACb,SAAS;IACX;IACA,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE,CAAC;IACtC,MAAM,YAAY,CAAA,GAAA,yHAAA,CAAA,gBAAa,AAAD;IAE9B,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,QAAQ,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,IAAI,GAAG;gDAAC,CAAA,OAAQ,CAAC;wBAAE,GAAG,IAAI;wBAAE,UAAU;oBAAE,CAAC;;YAC7D,aAAa;QACf;iCAAG,EAAE;IAEL,MAAM,WAAW,UAAU,MAAM,CAAC,CAAC,KAAK;QACtC,OAAO,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ;IAC1C,GAAG;IAEH,MAAM,eAAe,WAAW,MAAM,IAAI;IAE1C,aAAa;IACb,MAAM,QAAQ,WAAW;IAEzB,kBAAkB;IAClB,MAAM,iBAAiB,CAAC,IAAI;QAC1B,IAAI,cAAc,GAAG;QAErB,oDAAoD;QACpD,MAAM,OAAO,UAAU,IAAI,CAAC,CAAA,OAAQ,KAAK,GAAG,KAAK;QACjD,IAAI,cAAc,KAAK,aAAa,EAAE;YACpC,MAAM,CAAC,YAAY,EAAE,KAAK,aAAa,CAAC,8BAA8B,CAAC;YACvE;QACF;QAEA,MAAM,cAAc,UAAU,GAAG,CAAC,CAAA,OAChC,KAAK,GAAG,KAAK,KAAK;gBAAE,GAAG,IAAI;gBAAE,UAAU;YAAY,IAAI;QAEzD,aAAa;IACf;IAEA,wBAAwB;IACxB,MAAM,aAAa,CAAC;QAClB,MAAM,cAAc,UAAU,MAAM,CAAC,CAAA,OAAQ,KAAK,GAAG,KAAK;QAC1D,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD,EAAE;QACf,OAAO,QAAQ,CAAC,MAAM;QACtB,aAAa;IACf;IAEA,sBAAsB;IACtB,MAAM,oBAAoB,CAAC;QACzB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAChC,YAAY;YACV,GAAG,QAAQ;YACX,CAAC,KAAK,EAAE;QACV;QAEA,sCAAsC;QACtC,IAAI,MAAM,CAAC,KAAK,EAAE;YAChB,UAAU;gBACR,GAAG,MAAM;gBACT,CAAC,KAAK,EAAE;YACV;QACF;IACF;IAEA,gBAAgB;IAChB,MAAM,eAAe;QACnB,MAAM,YAAY,CAAC;QAEnB,IAAI,CAAC,SAAS,QAAQ,CAAC,IAAI,IAAI;YAC7B,UAAU,QAAQ,GAAG;QACvB;QAEA,IAAI,CAAC,SAAS,KAAK,CAAC,IAAI,IAAI;YAC1B,UAAU,KAAK,GAAG;QACpB,OAAO,IAAI,CAAC,iBAAiB,IAAI,CAAC,SAAS,KAAK,GAAG;YACjD,UAAU,KAAK,GAAG;QACpB;QAEA,IAAI,CAAC,SAAS,WAAW,CAAC,IAAI,IAAI;YAChC,UAAU,WAAW,GAAG;QAC1B;QAEA,IAAI,CAAC,SAAS,OAAO,CAAC,IAAI,IAAI;YAC5B,UAAU,OAAO,GAAG;QACtB;QAEA,UAAU;QACV,OAAO,OAAO,IAAI,CAAC,WAAW,MAAM,KAAK;IAC3C;IAEA,yBAAyB;IACzB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,IAAI,CAAC,gBAAgB;YACnB;QACF;QAEA,gBAAgB;QAEhB,IAAI;YACF,mCAAmC;YACnC,MAAM,WAAW;gBACf,GAAG,QAAQ;gBACX,cAAc,UAAU,GAAG,CAAC,CAAA,OAAQ,CAAC;wBACnC,SAAS,KAAK,GAAG;wBACjB,UAAU,KAAK,QAAQ;oBACzB,CAAC;gBACD,QAAQ;YACV;YAEA,MAAM,WAAW,MAAM,wIAAA,CAAA,UAAK,CAAC,IAAI,CAAC,GAAG,oHAAA,CAAA,SAAM,CAAC,oBAAoB,CAAC,EAAE,UAAU;gBAC3E,SAAS;oBACP,eAAe,CAAC,OAAO,EAAE,WAAW;gBACtC;YACF;YAEA,IAAG,SAAS,IAAI,CAAC,GAAG,EAAE;gBACpB,MAAM,SAAS,IAAI,CAAC,GAAG;gBACvB,aAAa,EAAE;gBACf,CAAA,GAAA,+HAAA,CAAA,iBAAc,AAAD;gBACb,OAAO,QAAQ,CAAC,MAAM;gBACtB,YAAY;oBACV,UAAU;oBACV,OAAO;oBACP,aAAa;oBACb,SAAS;gBACX;YACF;YAEA,sBAAsB;YACtB,QAAQ;QACV,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,2BAA2B;YACzC,MAAM;QACR,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,mBAAmB;IACnB,IAAI,UAAU,MAAM,KAAK,GAAG;QAC1B,qBACE,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,uNAAA,CAAA,cAAW;4BAAC,MAAM;4BAAI,OAAM;;;;;;;;;;;kCAE/B,6LAAC;wBAAG,WAAU;kCAAO;;;;;;kCACrB,6LAAC;wBAAE,WAAU;kCAAkB;;;;;;kCAC/B,6LAAC,+JAAA,CAAA,UAAI;wBAAC,MAAK;wBAAY,WAAU;kCAAyB;;;;;;;;;;;;;;;;;IAMlE;IAEA,qBACE,6LAAC;kDAAc;;0BACb,6LAAC;0DAAc;;kCACb,6LAAC;kEAAa;kCAAgB,SAAS,SAAS,kBAAkB;;;;;;oBAEjE,SAAS,4BACR,6LAAC;wBACC,SAAS,IAAM,QAAQ;kEACb;;0CAEV,6LAAC,mNAAA,CAAA,YAAS;gCAAC,MAAM;gCAAI,WAAU;;;;;;4BAAS;;;;;;;kCAI5C,6LAAC;kEAAc;;0CACb,6LAAC;0EAAc;0CACZ,SAAS,uBACR,6LAAC;8EAAc;;sDAEb,6LAAC;sFAAc;sDACb,cAAA,6LAAC;0FAAa;0DAAO;;;;;;;;;;;sDAIvB,6LAAC;sFAAc;sDACb,cAAA,6LAAC;0FAAc;;kEACb,6LAAC;kGAAc;kEACb,cAAA,6LAAC;sGAAa;sEAAO;;;;;;;;;;;kEAEvB,6LAAC;kGAAc;kEACb,cAAA,6LAAC;sGAAa;sEAAO;;;;;;;;;;;kEAEvB,6LAAC;kGAAc;kEACb,cAAA,6LAAC;sGAAa;sEAAO;;;;;;;;;;;kEAEvB,6LAAC;kGAAc;kEACb,cAAA,6LAAC;sGAAa;sEAAO;;;;;;;;;;;;;;;;;;;;;;sDAK3B,6LAAC;sFAAc;sDACZ,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC;8FAA6B;8DAC5B,cAAA,6LAAC;kGAAc;;0EAEb,6LAAC;0GAAc;0EACb,cAAA,6LAAC;8GAAc;;sFACb,6LAAC;sHAAc;sFACb,cAAA,6LAAC;gFACC,KAAK,KAAK,KAAK;gFACf,KAAK,KAAK,IAAI;gFAEd,OAAO;oFAAE,OAAO;oFAAQ,QAAQ;oFAAQ,WAAW;gFAAQ;0HADjD;;;;;;;;;;;sFAId,6LAAC;sHAAc;;8FACb,6LAAC;8HAAa;8FAAQ,KAAK,IAAI;;;;;;8FAC/B,6LAAC;8HAAc;;sGACb,6LAAC;sIAAe;sGAAe;;;;;;sGAC/B,6LAAC;sIAAe;;gGAAU;gGAAI,KAAK,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0EAOhD,6LAAC;0GAAc;0EACb,cAAA,6LAAC;8GAAc;;wEAAU;wEAAI,KAAK,KAAK;;;;;;;;;;;;0EAIzC,6LAAC;0GAAc;;kFACb,6LAAC;kHAAc;kFAA2B;;;;;;kFAC1C,6LAAC;kHAAc;;0FACb,6LAAC;gFAEC,SAAS,IAAM,eAAe,KAAK,GAAG,EAAE,KAAK,QAAQ,GAAG;gFACxD,cAAW;0HAFD;0FAIV,cAAA,6LAAC,uMAAA,CAAA,QAAK;oFAAC,MAAM;;;;;;;;;;;0FAEf,6LAAC;0HAAe;0FACb,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,QAAQ,EAAE,KAAK,aAAa;;;;;;0FAEzD,6LAAC;gFAEC,SAAS,IAAM,eAAe,KAAK,GAAG,EAAE,KAAK,QAAQ,GAAG;gFACxD,cAAW;0HAFD;0FAIV,cAAA,6LAAC,qMAAA,CAAA,OAAI;oFAAC,MAAM;;;;;;;;;;;;;;;;;kFAGhB,6LAAC;kHAAc;kFACZ,KAAK,aAAa,GAAG,IAAI,GAAG,KAAK,aAAa,CAAC,UAAU,CAAC,GAAG;;;;;;;;;;;;0EAKlE,6LAAC;0GAAc;;kFACb,6LAAC;kHAAc;kFAA2B;;;;;;kFAC1C,6LAAC;kHAAc;;4EAAe;4EACvB,KAAK,KAAK,GAAG,KAAK,QAAQ;;;;;;;kFAEjC,6LAAC;wEAEC,SAAS,IAAM,WAAW,KAAK,GAAG;wEAClC,cAAW;kHAFD;;0FAIV,6LAAC,6MAAA,CAAA,SAAM;gFAAC,MAAM;gFAAI,WAAU;;;;;;4EAAS;;;;;;;;;;;;;;;;;;;mDAlEnC,KAAK,GAAG;;;;;;;;;;sDA0EtB,6LAAC;sFAAc;sDACb,cAAA,6LAAC;0FAAc;;kEACb,6LAAC,+JAAA,CAAA,UAAI;wDAAC,MAAK;wDAAY,WAAU;;0EAC/B,6LAAC,mNAAA,CAAA,YAAS;gEAAC,MAAM;gEAAI,WAAU;;;;;;4DAAS;;;;;;;kEAE1C,6LAAC;wDAEC,SAAS,IAAM,QAAQ;kGADb;;4DAEX;0EACqB,6LAAC,mNAAA,CAAA,YAAS;gEAAC,MAAM;gEAAI,WAAU;gEAAO,OAAO;oEAAE,WAAW;gEAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;2CAMvG,iBAAiB,iBACjB,6LAAC;8EAAc;;sDACb,6LAAC;sFAAc;sDACb,cAAA,6LAAC;0FAAa;0DAAO;;;;;;;;;;;sDAEvB,6LAAC;sFAAc;sDACb,cAAA,6LAAC;gDAAK,UAAU;;;kEACd,6LAAC;kGAAc;;0EACb,6LAAC;0GAAc;;kFACb,6LAAC;wEAAM,SAAQ;kHAAqB;kFAAa;;;;;;kFACjD,6LAAC;wEACC,MAAK;wEAEL,IAAG;wEACH,MAAK;wEACL,OAAO,SAAS,QAAQ;wEACxB,UAAU;wEACV,aAAY;wEACZ,QAAQ;kHANG,CAAC,aAAa,EAAE,OAAO,QAAQ,GAAG,eAAe,IAAI;;;;;;oEAQjE,OAAO,QAAQ,kBACd,6LAAC;kHAAc;kFAAoB,OAAO,QAAQ;;;;;;;;;;;;0EAItD,6LAAC;0GAAc;;kFACb,6LAAC;wEAAM,SAAQ;kHAAkB;kFAAa;;;;;;kFAC9C,6LAAC;wEACC,MAAK;wEAEL,IAAG;wEACH,MAAK;wEACL,OAAO,SAAS,KAAK;wEACrB,UAAU;wEACV,aAAY;wEACZ,QAAQ;kHANG,CAAC,aAAa,EAAE,OAAO,KAAK,GAAG,eAAe,IAAI;;;;;;oEAQ9D,OAAO,KAAK,kBACX,6LAAC;kHAAc;kFAAoB,OAAO,KAAK;;;;;;;;;;;;0EAInD,6LAAC;0GAAc;;kFACb,6LAAC;wEAAM,SAAQ;kHAAwB;kFAAa;;;;;;kFACpD,6LAAC;wEACC,MAAK;wEAEL,IAAG;wEACH,MAAK;wEACL,OAAO,SAAS,WAAW;wEAC3B,UAAU;wEACV,aAAY;wEACZ,QAAQ;kHANG,CAAC,aAAa,EAAE,OAAO,WAAW,GAAG,eAAe,IAAI;;;;;;oEAQpE,OAAO,WAAW,kBACjB,6LAAC;kHAAc;kFAAoB,OAAO,WAAW;;;;;;;;;;;;0EAIzD,6LAAC;0GAAc;;kFACb,6LAAC;wEAAM,SAAQ;kHAAoB;kFAAa;;;;;;kFAChD,6LAAC;wEAEC,IAAG;wEACH,MAAK;wEACL,MAAK;wEACL,OAAO,SAAS,OAAO;wEACvB,UAAU;wEACV,aAAY;wEACZ,QAAQ;kHAPG,CAAC,aAAa,EAAE,OAAO,OAAO,GAAG,eAAe,IAAI;;;;;;oEAShE,OAAO,OAAO,kBACb,6LAAC;kHAAc;kFAAoB,OAAO,OAAO;;;;;;;;;;;;;;;;;;kEAKvD,6LAAC;kGAAc;kEACb,cAAA,6LAAC;4DACC,MAAK;4DAEL,UAAU;sGADA;sEAGT,6BACC;;kFACE,6LAAC;wEAAuD,MAAK;wEAAS,eAAY;kHAAlE;;;;;;oEAAgF;;6FAIlG;0EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CAWlB,6LAAC;0EAAc;0CACb,cAAA,6LAAC;8EAAc;;sDACb,6LAAC;sFAAc;sDACb,cAAA,6LAAC;0FAAa;0DAAO;;;;;;;;;;;sDAEvB,6LAAC;sFAAc;;8DACb,6LAAC;8FAAc;;sEACb,6LAAC;;sEAAK;;;;;;sEACN,6LAAC;sGAAe;;gEAAU;gEAAI;;;;;;;;;;;;;8DAGhC,6LAAC;;;;;;;8DACD,6LAAC;8FAAc;;sEACb,6LAAC;sGAAe;sEAAU;;;;;;sEAC1B,6LAAC;sGAAe;;gEAAe;gEAAI;;;;;;;;;;;;;gDAGpC,SAAS,wBACR,6LAAC;8FAAc;8DACb,cAAA,6LAAC;wDAEC,SAAS,IAAM,QAAQ;kGADb;kEAEX;;;;;;;;;;;gDAOJ,SAAS,4BACR,6LAAC;8FAAc;;sEACb,6LAAC;sGAAa;;gEAAO;gEAAa,UAAU,MAAM;gEAAC;;;;;;;sEACnD,6LAAC;sGAAc;sEACZ,UAAU,GAAG,CAAC,CAAC,qBACd,6LAAC;8GAA6B;;sFAC5B,6LAAC;sHAAc;;8FACb,6LAAC;8HAAc;8FACb,cAAA,6LAAC;wFACC,KAAK,KAAK,KAAK;wFACf,KAAK,KAAK,IAAI;wFAEd,OAAO;4FAAE,OAAO;4FAAQ,QAAQ;4FAAQ,WAAW;wFAAQ;kIADjD;;;;;;;;;;;8FAId,6LAAC;;;sGACC,6LAAC;sIAAc;sGAAiB,KAAK,IAAI;;;;;;sGACzC,6LAAC;sIAAc;;gGAAmB;gGAAM,KAAK,QAAQ;;;;;;;;;;;;;;;;;;;sFAGzD,6LAAC;sHAAc;sFACb,cAAA,6LAAC;0HAAc;;oFAAU;oFAAK,KAAK,KAAK,GAAG,KAAK,QAAQ;;;;;;;;;;;;;mEAhBlD,KAAK,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4G1C;GAzhBwB;KAAA","debugId":null}}]
}